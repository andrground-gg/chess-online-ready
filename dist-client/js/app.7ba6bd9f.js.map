{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/img/bQueen.png","webpack:///./src/assets/img/wKnight.png","webpack:///./src/assets/img/wQueen.png","webpack:///./src/assets/img/bBishop.png","webpack:///./src/assets/img/wBishop.png","webpack:///./src/assets/img/bRook.png","webpack:///./src/App.vue?300a","webpack:///./src/helper.ts","webpack:///./src/services/socketio.service.ts","webpack:///./src/components/Navbar.vue?5c14","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?20b6","webpack:///./src/components/ModalAuth.vue?5012","webpack:///./src/components/SignUp.vue?ceac","webpack:///./src/components/SignUp.vue","webpack:///./src/components/SignUp.vue?199a","webpack:///./src/components/LogIn.vue?fbcf","webpack:///./src/components/LogIn.vue","webpack:///./src/components/LogIn.vue?e5eb","webpack:///./src/components/ModalAuth.vue","webpack:///./src/components/ModalAuth.vue?47e7","webpack:///./src/App.vue","webpack:///./src/App.vue?ae2f","webpack:///./src/views/Home.vue?16e0","webpack:///./src/components/Play.vue?a06e","webpack:///./src/components/Play.vue","webpack:///./src/components/Play.vue?3413","webpack:///./src/components/Leaderboards.vue?e3f2","webpack:///./src/components/Leaderboard.vue?c5e8","webpack:///./src/components/Leaderboard.vue","webpack:///./src/components/Leaderboard.vue?6c81","webpack:///./src/components/Leaderboards.vue","webpack:///./src/components/Leaderboards.vue?7caf","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?7720","webpack:///./src/views/ProfilePage.vue?bbea","webpack:///./src/components/ModeStats.vue?8b21","webpack:///./src/components/ModeStats.vue","webpack:///./src/components/ModeStats.vue?df70","webpack:///./src/views/ProfilePage.vue","webpack:///./src/views/ProfilePage.vue?1ea3","webpack:///./src/views/GamePage.vue?bf66","webpack:///./src/components/BoardSection.vue?fcb6","webpack:///./src/components/ModalPromotion.vue?94b2","webpack:///./src/components/ModalPromotion.vue","webpack:///./src/components/ModalPromotion.vue?c96d","webpack:///./src/components/BoardSection.vue","webpack:///./src/components/BoardSection.vue?7e1d","webpack:///./src/components/Sidebar.vue?f5ec","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?314a","webpack:///./src/components/ModalEndgame.vue?f5d9","webpack:///./src/components/ModalEndgame.vue","webpack:///./src/components/ModalEndgame.vue?00bc","webpack:///./src/views/GamePage.vue","webpack:///./src/views/GamePage.vue?37a6","webpack:///./src/views/LeaderboardsPage.vue?7335","webpack:///./src/views/LeaderboardsPage.vue","webpack:///./src/views/LeaderboardsPage.vue?87c6","webpack:///./src/views/LeaderboardPage.vue?efe7","webpack:///./src/views/LeaderboardPage.vue","webpack:///./src/views/LeaderboardPage.vue?9aea","webpack:///./src/router/index.ts","webpack:///./src/store/modules/user/getters.ts","webpack:///./src/store/modules/user/actions.ts","webpack:///./src/store/modules/user/mutations.ts","webpack:///./src/store/modules/user/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/assets/img/bKnight.png","webpack:///./src/assets/img/load.gif","webpack:///./src/assets/img/wRook.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_Navbar","_component_router_view","_component_ModalAuth","onShowModalLogIn","$event","showModal","isModalLogIn","onShowModalSignUp","onFocusLogIn","homeToRegister","focusOnInput","onFocusSignUp","isSearchVisible","searchMode","searchTimeMode","onCancelSearch","cancelSearch","onShowSearch","showSearch","onSwitchToRegister","$route","path","isLogin","onCloseModal","closeModal","isModalVisible","server","baseURL","this","socket","timeMode","username","elo","emit","id","content","board","whiteCastling","blackCastling","enPassant","isCheck","time","increment","whiteName","blackName","whiteElo","blackElo","white","black","moves","disconnect","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","_hoisted_10","_component_router_link","to","default","_","authenticated","$store","getters","user","playLink","onClick","$emit","charAt","toUpperCase","logOut","props","type","Boolean","required","String","validator","val","includes","setup","store","_id","fetch","method","headers","credentials","then","res","json","activeGame","filter","game","isFinished","dispatch","link","commit","__exports__","_component_LogIn","_component_SignUp","switchOption","for","disabled","_hoisted_11","_hoisted_12","onSubmit","signUp","isErrorShown","errorMsg","trim","email","password","body","JSON","stringify","statusCode","passport","message","logIn","catch","err","components","SignUp","LogIn","setupSocketConnection","getSocket","router","on","gameId","payload","currentRoute","split","off","setTimeout","document","querySelector","focus","Navbar","ModalAuth","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_component_Play","_component_Leaderboards","onSwitch","info","Date","registrationDate","toDateString","stats","bullet","totalGames","blitz","rapid","detailed","playersAmount","selectedTime","selectedMode","startSearch","hasActiveGame","_component_Leaderboard","isLoading","players","player","index","page","Math","round","won","toFixed","lost","draw","Number","fetchLeaders","sorted","sort","a","b","ceil","idx","Leaderboard","Play","Leaderboards","_component_ModeStats","showStats","games","eloAtTheTime","score","date","style","wonPercentToUse","drawPercentToUse","lostPercentToUse","wonBulletPercent","lostBulletPercent","drawBulletPercent","wonBlitzPercent","lostBlitzPercent","drawBlitzPercent","wonRapidPercent","lostRapidPercent","drawRapidPercent","initializeUser","replace","getTime","ModeStats","_component_BoardSection","_component_Sidebar","_component_ModalEndgame","gameStarted","gameData","joinedChat","onSetMoves","movesAmount","onEndGame","whiteScore","blackScore","endGame","savedChat","chat","onSurrender","blakcScore","onDraw","onOfferDraw","offerDraw","resultData","closeModalAndRedirect","_component_ModalPromotion","isFlipped","whiteTime","blackTime","toISOString","substr","onMousedown","resetBoard","startMoving","gotData","onChoosePiece","choosePromotionPiece","color","isWhiteTurn","sentMadeMove","WKSC","WQSC","BKSC","BQSC","isAvailable","passingPawn","captureSquare","isPromotion","startTimer","parseInt","getGameData","movingPiece","legalMoves","initialPos","pieces","Array","from","querySelectorAll","freePieces","squareClass","checkPiece","find","classList","newSquareClass","newPieceClass","toLowerCase","alreadyPiece","pieceOnSquare","piece","cl","pieceClass","remove","add","className","getPosRelativeToBoard","e","rect","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","pieceWidth","offsetWidth","pieceHeight","offsetHeight","translateX","translateY","getTileOnBoard","pos","col","row","applyMovement","transform","toString","movePiece","tilePos","squares","outlinedSquare","el","which","target","boardElem","pieceName","findLegalMoves","addEventListener","isPieceWhite","forNextMove","isAllyPieceOnPos","pop","placeOnBoard","isUnderAttack","attackingPaths","checkForAttackingPaths","king","attackingPieces","getAttackingPieces","attackingPath","piecesOnAttackingPath","enemyPieces","piecePos","move","isAttackingWhite","enemyKing","totalPaths","attackingPathExists","findAttackingPath","row1","col1","row2","col2","ar","pieceOnNewSquare","legalMovesSquares","forEach","sq","removeEventListener","finishMove","checkForMate","madeMove","pawnInd","findIndex","totalMoves","ModalPromotion","isDrawOffered","map","convertTime","didSendDrawOffer","onKeydown","sendMessage","scrollToBottom","dateString","hours","getHours","minutes","getMinutes","chatElement","scrollTo","scrollHeight","newElo","checkForGame","joinChat","oldElo","BoardSection","Sidebar","ModalEndgame","$router","onChangeTotalPagesVal","changeTotalPagesValue","onLoading","totalPages","pagesArr","pageNum","arr","routes","component","Home","ProfilePage","GamePage","LeaderboardsPage","LeaderboardPage","redirect","history","state","getUser","context","response","getActiveGame","setUser","unsetData","setActiveGame","unsetActiveGame","addToChat","namespaced","actions","mutations","userModule","App","use","mount"],"mappings":"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","file":"js/app.7ba6bd9f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/bQueen.09cf2af0.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/wQueen.82c52fb4.png\";","module.exports = __webpack_public_path__ + \"img/bBishop.bc724203.png\";","module.exports = __webpack_public_path__ + \"img/wBishop.13f3d4a9.png\";","module.exports = __webpack_public_path__ + \"img/bRook.f8e59fb4.png\";","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"base\" }\nconst _hoisted_2 = { class: \"base-layout\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Navbar = _resolveComponent(\"Navbar\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_ModalAuth = _resolveComponent(\"ModalAuth\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_Navbar, {\n        onShowModalLogIn: _cache[0] || (_cache[0] = ($event: any) => {$setup.showModal(); $setup.isModalLogIn = true;}),\n        onShowModalSignUp: _cache[1] || (_cache[1] = ($event: any) => {$setup.showModal(); $setup.isModalLogIn = false;}),\n        onFocusLogIn: _cache[2] || (_cache[2] = ($event: any) => {$setup.homeToRegister = false; $setup.focusOnInput()}),\n        onFocusSignUp: _cache[3] || (_cache[3] = ($event: any) => {$setup.homeToRegister = true; $setup.focusOnInput()}),\n        isSearchVisible: $setup.isSearchVisible,\n        searchMode: $setup.searchMode,\n        searchTimeMode: $setup.searchTimeMode,\n        onCancelSearch: $setup.cancelSearch\n      }, null, 8, [\"isSearchVisible\", \"searchMode\", \"searchTimeMode\", \"onCancelSearch\"]),\n      _createVNode(_component_router_view, {\n        onShowSearch: $setup.showSearch,\n        homeToRegister: $setup.homeToRegister,\n        onSwitchToRegister: _cache[4] || (_cache[4] = ($event: any) => ($setup.homeToRegister = !$setup.homeToRegister))\n      }, null, 8, [\"onShowSearch\", \"homeToRegister\"])\n    ]),\n    (_ctx.$route.path !== '/')\n      ? _withDirectives((_openBlock(), _createBlock(_component_ModalAuth, {\n          key: 0,\n          isLogin: $setup.isModalLogIn,\n          onCloseModal: $setup.closeModal\n        }, null, 8, [\"isLogin\", \"onCloseModal\"])), [\n          [_vShow, $setup.isModalVisible]\n        ])\n      : _createCommentVNode(\"\", true)\n  ]))\n}","export const server = {\r\n  baseURL: 'http://localhost:8000'\r\n}","import { DefaultEventsMap } from '@socket.io/component-emitter';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { server } from '@/helper';\r\n\r\nclass SocketioService {\r\n  socket!: Socket<DefaultEventsMap, DefaultEventsMap>;\r\n  constructor() {}\r\n\r\n  setupSocketConnection(): void {\r\n    this.socket = io(server.baseURL);\r\n  }\r\n  getSocket(): Socket<DefaultEventsMap, DefaultEventsMap> {\r\n    return this.socket;\r\n  }\r\n  startSearch(mode: string, timeMode: string, username: string, elo: number) {\r\n    this.socket.emit('startSearch', {\r\n      mode,\r\n      timeMode,\r\n      username,\r\n      elo\r\n    });\r\n  }\r\n  cancelSearch(mode: string, timeMode: string, username: string) {\r\n    this.socket.emit('cancelSearch', {\r\n      mode,\r\n      timeMode,\r\n      username,\r\n    });\r\n  }\r\n  joinChat(id: string) {\r\n    this.socket.emit('joinChat', { id })\r\n  }\r\n  leaveChat(id: string) {\r\n    this.socket.emit('leaveChat', { id });\r\n  }\r\n  sendMessage(id: string, username: string, content: string) {\r\n    this.socket.emit('sendMessage', {\r\n      id,\r\n      username,\r\n      content,\r\n    });\r\n  }\r\n  madeMove(id: string, board: string[][], whiteCastling: { WKSC: boolean, WQSC: boolean }, blackCastling: { BKSC: boolean, BQSC: boolean }, enPassant: { isAvailable: boolean, passingPawn: number[], captureSquare: number[] }, isCheck: boolean) {\r\n    this.socket.emit('madeMove', {\r\n      id,\r\n      board,\r\n      whiteCastling,\r\n      blackCastling,\r\n      enPassant,\r\n      isCheck\r\n    });\r\n  }\r\n  startTimer(id: string, time: number, increment: number, board: string[][], mode: string, whiteName: string, blackName: string, whiteElo: number, blackElo: number ) {\r\n    this.socket.emit('startTimer', {\r\n      id,\r\n      time,\r\n      increment,\r\n      board,\r\n      mode,\r\n      whiteName,\r\n      blackName,\r\n      whiteElo,\r\n      blackElo\r\n    });\r\n  }\r\n  getGameData(id: string) {\r\n    this.socket.emit('getGameData', {\r\n      id\r\n    });\r\n  }\r\n  offerDraw(id: string) {\r\n    this.socket.emit('offerDraw', { id });\r\n  }\r\n  endGame(id: string, mode: string, white: { username: string, score: number, oldElo: number }, black: { username: string, score: number, oldElo: number }, moves: number) {\r\n    this.socket.emit('endGame', {\r\n      id,\r\n      mode,\r\n      white,\r\n      black,\r\n      moves\r\n    });\r\n  }\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n    } \r\n  }\r\n}\r\n\r\nexport default new SocketioService();","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\"\nimport _imports_0 from '@/assets/img/load.gif'\n\n\nconst _hoisted_1 = { class: \"base-navbar\" }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Home\")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Profile\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Play\")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Leaderboard\")\nconst _hoisted_6 = { class: \"navbar__auth-buttons\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"search\"\n}\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Searching...\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"search__gif\",\n  src: _imports_0\n}, null, -1)\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Log out\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"nav\", _hoisted_1, [\n    _createVNode(_component_router_link, { to: \"/\" }, {\n      default: _withCtx(() => [\n        _hoisted_2\n      ]),\n      _: 1\n    }),\n    ($setup.authenticated)\n      ? (_openBlock(), _createBlock(_component_router_link, {\n          key: 0,\n          to: `/profile/${_ctx.$store.getters.user.username}`\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3\n          ]),\n          _: 1\n        }, 8, [\"to\"]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_router_link, { to: $setup.playLink }, {\n      default: _withCtx(() => [\n        _hoisted_4\n      ]),\n      _: 1\n    }, 8, [\"to\"]),\n    _createVNode(_component_router_link, { to: \"/leaderboard\" }, {\n      default: _withCtx(() => [\n        _hoisted_5\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_6, [\n      (!$setup.authenticated)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            class: \"btn\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$route.path !== '/' ? _ctx.$emit('showModalSignUp') : _ctx.$emit('focusSignUp')))\n          }, \"Sign up\"))\n        : _createCommentVNode(\"\", true),\n      (!$setup.authenticated)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            class: \"btn\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$route.path !== '/' ? _ctx.$emit('showModalLogIn') : _ctx.$emit('focusLogIn')))\n          }, \"Log in\"))\n        : _createCommentVNode(\"\", true)\n    ]),\n    ($props.isSearchVisible && $setup.authenticated)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _hoisted_8,\n          _createElementVNode(\"p\", null, _toDisplayString($props.searchMode.charAt(0).toUpperCase() + $props.searchMode.slice(1)), 1),\n          _createElementVNode(\"p\", null, _toDisplayString($props.searchTimeMode), 1),\n          _hoisted_9,\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('cancelSearch')))\n          }, \"Cancel\")\n        ]))\n      : _createCommentVNode(\"\", true),\n    ($setup.authenticated)\n      ? (_openBlock(), _createBlock(_component_router_link, {\n          key: 2,\n          onClick: $setup.logOut,\n          to: \"/logout\",\n          class: \"navbar__logout\"\n        }, {\n          default: _withCtx(() => [\n            _hoisted_10\n          ]),\n          _: 1\n        }, 8, [\"onClick\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\r\nimport { computed, ComputedRef, watch } from 'vue';\r\nimport { server } from \"@/helper\";\r\nimport { Store, useStore } from 'vuex';\r\n\r\nexport default {\r\n  props: {\r\n    isSearchVisible: {\r\n      type: Boolean,\r\n      required: true,\r\n      default: false\r\n    },\r\n    searchMode: {\r\n      type: String,\r\n      required: false,\r\n      validator: function(val: string): boolean {\r\n        return ['','bullet', 'blitz', 'rapid'].includes(val);\r\n      }\r\n    },\r\n    searchTimeMode: {\r\n      type: String,\r\n      required: false\r\n    }\r\n  },\r\n  setup(): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n\r\n    let authenticated: ComputedRef<boolean> = computed(() => store.getters.user?._id != null);\r\n\r\n    watch(() => authenticated.value, () => {\r\n      if (authenticated.value) {\r\n        fetch(`${server.baseURL}/games?username=${store.getters.user.username}`, {\r\n          method: 'GET', \r\n          headers: {\r\n            'Access-Control-Allow-Credentials': true\r\n          } as any,\r\n          credentials: 'include'\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          let activeGame = data.filter((game: { isFinished: boolean }) => game.isFinished === false)[0];\r\n          if (activeGame)\r\n            store.dispatch('getActiveGame', activeGame._id);\r\n        });\r\n      }\r\n    });\r\n\r\n    let playLink: ComputedRef<string> = computed(() => {\r\n      let link = '/play';\r\n      if (store.getters.activeGame?._id)\r\n        link += '/' + store.getters.activeGame._id;\r\n\r\n      return link;\r\n    });\r\n\r\n    const logOut = (): void => {\r\n      fetch(`${server.baseURL}/logout`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .then(() => store.commit('unsetData'));\r\n    }\r\n\r\n    return {\r\n      logOut,\r\n      authenticated,\r\n      playLink\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./Navbar.vue?vue&type=template&id=784cf88e&ts=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"modal-backdrop\" }\nconst _hoisted_2 = { class: \"modal\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LogIn = _resolveComponent(\"LogIn\")!\n  const _component_SignUp = _resolveComponent(\"SignUp\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('closeModal'))),\n        class: \"modal__close\"\n      }, \"\"),\n      ($props.isLogin)\n        ? (_openBlock(), _createBlock(_component_LogIn, {\n            key: 0,\n            switchOption: false,\n            onCloseModal: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('closeModal')))\n          }))\n        : (_openBlock(), _createBlock(_component_SignUp, {\n            key: 1,\n            switchOption: false,\n            onCloseModal: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('closeModal')))\n          }))\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"signup\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"header\" }, \"Create an account\", -1)\nconst _hoisted_3 = {\n  key: 0,\n  class: \"form__error\"\n}\nconst _hoisted_4 = { class: \"form__control\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"username\" }, \"Username\", -1)\nconst _hoisted_6 = { class: \"form__control\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"email\" }, \"Email\", -1)\nconst _hoisted_8 = { class: \"form__control\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"password\" }, \"Password\", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"button\", {\n  disabled: false,\n  class: \"btn btn--full\",\n  type: \"submit\"\n}, \"Sign Up\", -1)\nconst _hoisted_11 = { key: 1 }\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"Already have an account? \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"form\", {\n      onSubmit: _cache[4] || (_cache[4] = _withModifiers(\n//@ts-ignore\n(...args) => ($setup.signUp && $setup.signUp(...args)), [\"prevent\"])),\n      class: \"form\",\n      id: \"form\"\n    }, [\n      ($setup.isErrorShown)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($setup.errorMsg), 1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (($setup.username) = $event))\n        }, null, 512), [\n          [\n            _vModelText,\n            $setup.username,\n            void 0,\n            { trim: true }\n          ]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (($setup.email) = $event))\n        }, null, 512), [\n          [\n            _vModelText,\n            $setup.email,\n            void 0,\n            { trim: true }\n          ]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (($setup.password) = $event))\n        }, null, 512), [\n          [\n            _vModelText,\n            $setup.password,\n            void 0,\n            { trim: true }\n          ]\n        ])\n      ]),\n      _hoisted_10,\n      ($props.switchOption)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, [\n            _hoisted_12,\n            _createElementVNode(\"span\", {\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('switch')))\n            }, \"Log in\")\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 32)\n  ]))\n}","\r\nimport { Store, useStore } from 'vuex';\r\nimport { Ref, ref } from 'vue';\r\nimport { server } from \"@/helper\";\r\n\r\nexport default {\r\n  props: {\r\n    switchOption: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  setup(_: any, { emit }: any): Record<string, unknown> {\r\n    const username: Ref<string> = ref(''); \r\n    const email: Ref<string> = ref(''); \r\n    const password: Ref<string> = ref(''); \r\n    const store: Store<any> = useStore();\r\n\r\n    let isErrorShown: Ref<boolean> = ref(false);\r\n    let errorMsg: Ref<string> = ref('');\r\n\r\n    const signUp = (): void => {\r\n      const user: Record<string, unknown> = {\r\n        username: username.value,\r\n        email: email.value,\r\n        password: password.value\r\n      }\r\n\r\n      fetch(`${server.baseURL}/users/create`, {\r\n        method: 'POST', \r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n      })\r\n      .then(res => res.json())\r\n      .then((data) => {\r\n        if (data.statusCode !== 400) {\r\n          isErrorShown.value = false;\r\n          errorMsg.value = '';\r\n          fetch(`${server.baseURL}/login`, {\r\n            method: 'POST', \r\n            credentials: 'include',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ username: user.username, password: user.password })\r\n          })\r\n          .then(res => res.json())\r\n          .then(data => {\r\n            store.dispatch('getUser', data.passport.user);\r\n            emit('closeModal');\r\n          })\r\n        }\r\n        else {\r\n          isErrorShown.value = true;\r\n          errorMsg.value = data.message[0].charAt(0).toUpperCase() + data.message[0].slice(1);\r\n        }\r\n      });\r\n    }\r\n\r\n    return {\r\n      signUp,\r\n      username,\r\n      email,\r\n      password,\r\n      isErrorShown,\r\n      errorMsg\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./SignUp.vue?vue&type=template&id=55cb9b1f&ts=true\"\nimport script from \"./SignUp.vue?vue&type=script&lang=ts\"\nexport * from \"./SignUp.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"login\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"header\" }, \"Login\", -1)\nconst _hoisted_3 = {\n  key: 0,\n  class: \"form__error\"\n}\nconst _hoisted_4 = { class: \"form__control\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"username\" }, \"Username\", -1)\nconst _hoisted_6 = { class: \"form__control\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"password\" }, \"Password\", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", {\n  disabled: false,\n  class: \"btn btn--full\",\n  type: \"submit\"\n}, \"Log In\", -1)\nconst _hoisted_9 = { key: 1 }\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"New? \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"form\", {\n      onSubmit: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => ($setup.logIn && $setup.logIn(...args)), [\"prevent\"])),\n      class: \"form\"\n    }, [\n      ($setup.isErrorShown)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"Incorrect credentials\"))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (($setup.username) = $event))\n        }, null, 512), [\n          [\n            _vModelText,\n            $setup.username,\n            void 0,\n            { trim: true }\n          ]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (($setup.password) = $event))\n        }, null, 512), [\n          [\n            _vModelText,\n            $setup.password,\n            void 0,\n            { trim: true }\n          ]\n        ])\n      ]),\n      _hoisted_8,\n      ($props.switchOption)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, [\n            _hoisted_10,\n            _createElementVNode(\"span\", {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('switch')))\n            }, \"Sign up\")\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 32)\n  ]))\n}","\r\nimport { Store, useStore } from 'vuex';\r\nimport { Ref, ref } from 'vue';\r\nimport { server } from \"@/helper\";\r\n\r\nexport default {\r\n  props: {\r\n    switchOption: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  setup(_: any, { emit }: any): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n\r\n    const username: Ref<string> = ref(''); \r\n    const password: Ref<string> = ref(''); \r\n\r\n    let isErrorShown: Ref<boolean> = ref(false);\r\n\r\n    const logIn = (): void => {\r\n      const user = {\r\n        username: username.value,\r\n        password: password.value\r\n      }\r\n\r\n      fetch(`${server.baseURL}/login`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user)\r\n      })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        store.dispatch('getUser', data.passport.user);\r\n        emit('closeModal');\r\n        isErrorShown.value = false;\r\n      })\r\n      .catch(err => isErrorShown.value = true);\r\n    }\r\n\r\n    return {\r\n      logIn,\r\n      username,\r\n      password,\r\n      isErrorShown\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./LogIn.vue?vue&type=template&id=51df877d&ts=true\"\nimport script from \"./LogIn.vue?vue&type=script&lang=ts\"\nexport * from \"./LogIn.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport SignUp from '@/components/SignUp.vue';\r\nimport LogIn from '@/components/LogIn.vue';\r\n\r\nexport default {\r\n  props: {\r\n    isLogin: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    SignUp,\r\n    LogIn\r\n  }\r\n}\r\n","import { render } from \"./ModalAuth.vue?vue&type=template&id=51047c0a&ts=true\"\nimport script from \"./ModalAuth.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalAuth.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport SocketioService from '@/services/socketio.service';\nimport { onBeforeUnmount, Ref, ref } from 'vue';\nimport { Store, useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { server } from '@/helper';\nimport Navbar from '@/components/Navbar.vue';\nimport ModalAuth from '@/components/ModalAuth.vue';\nimport { Socket } from 'socket.io-client';\n\nexport default {\n  setup(): Record<string, unknown> {\n    SocketioService.setupSocketConnection();\n    const socket: Socket = SocketioService.getSocket();\n    const router = useRouter();\n\n    const store: Store<any> = useStore();\n\n    let isModalVisible: Ref<boolean> = ref(false);\n    let isSearchVisible: Ref<boolean> = ref(false);\n    let isModalLogIn: Ref<boolean> = ref(false);\n    let homeToRegister: Ref<boolean> = ref(true);\n    let searchMode: Ref<string> = ref('');\n    let searchTimeMode: Ref<string> = ref('');\n\n    socket.on('startGame', (gameId: string) => {\n      isSearchVisible.value = false;\n      router.push(`/play/${gameId}`);\n      store.dispatch('getActiveGame', gameId);\n    });\n  \n    socket.on('endGame', (payload: { white: { score: number, newElo: number }, black: { score: number, newElo: number } }) => {  \n      if (router.currentRoute.value.path.split('/')[1] === 'play')\n        return;\n\n      store.commit('unsetActiveGame');\n      socket.off('sendMessage');\n      socket.off('offerDraw');\n    });\n\n    fetch(`${server.baseURL}/protected`, {\n      method: 'GET', \n      headers: {\n        'Access-Control-Allow-Credentials': true\n      } as any,\n      credentials: 'include'\n    })\n    .then(res => res.json())\n    .then(data => store.dispatch('getUser', data.passport.user))\n\n    const showModal = (): void => {\n      isModalVisible.value = true;\n    }\n\n    const focusOnInput = (): void => {\n      setTimeout(() => {\n        document.querySelector('input')!.focus();\n      }, 0);\n    }\n\n    const closeModal = (): void => {\n      isModalVisible.value = false;\n    }\n\n    const showSearch = (payload: { mode: string, timeMode: string}): void => {\n      isSearchVisible.value = true;\n      searchMode.value = payload.mode;\n      searchTimeMode.value = payload.timeMode;\n    }\n\n    const cancelSearch = (): void => {\n      isSearchVisible.value = false;\n      SocketioService.cancelSearch(searchMode.value, searchTimeMode.value, store.getters.user.username);\n    }\n\n    onBeforeUnmount(SocketioService.disconnect);\n  \n    return {\n      isModalVisible,\n      isSearchVisible,\n      isModalLogIn,\n      homeToRegister,\n      showModal,\n      focusOnInput,\n      closeModal,\n      showSearch,\n      searchMode,\n      searchTimeMode,\n      cancelSearch\n    }\n  },\n  components: {\n    Navbar,\n    ModalAuth\n  }\n}\n","import { render } from \"./App.vue?vue&type=template&id=28c62450&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"base-grid\" }\nconst _hoisted_2 = { class: \"grid__item\" }\nconst _hoisted_3 = { class: \"grid__item\" }\nconst _hoisted_4 = {\n  key: 2,\n  class: \"profile-briefly\"\n}\nconst _hoisted_5 = { class: \"profile-briefly__general\" }\nconst _hoisted_6 = { class: \"general__username\" }\nconst _hoisted_7 = { class: \"general__date\" }\nconst _hoisted_8 = { class: \"profile-briefly__stats\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"stats__headers\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__name\" }, \"Mode\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__rating\" }, \"Rating\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__games\" }, \"Games\")\n], -1)\nconst _hoisted_10 = { class: \"stats__numbers\" }\nconst _hoisted_11 = { class: \"numbers__mode\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"mode__name\" }, \"Bullet\", -1)\nconst _hoisted_13 = { class: \"mode__rating\" }\nconst _hoisted_14 = { class: \"mode__total-games\" }\nconst _hoisted_15 = { class: \"numbers__mode\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"mode__name\" }, \"Blitz\", -1)\nconst _hoisted_17 = { class: \"mode__rating\" }\nconst _hoisted_18 = { class: \"mode__total-games\" }\nconst _hoisted_19 = { class: \"numbers__mode\" }\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"mode__name\" }, \"Rapid\", -1)\nconst _hoisted_21 = { class: \"mode__rating\" }\nconst _hoisted_22 = { class: \"mode__total-games\" }\nconst _hoisted_23 = { class: \"grid__item\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Play = _resolveComponent(\"Play\")!\n  const _component_SignUp = _resolveComponent(\"SignUp\")!\n  const _component_LogIn = _resolveComponent(\"LogIn\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_Leaderboards = _resolveComponent(\"Leaderboards\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_Play, {\n        onShowSearch: _cache[0] || (_cache[0] = (payload) => _ctx.$emit('showSearch', payload))\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (!$setup.authenticated && $props.homeToRegister)\n        ? (_openBlock(), _createBlock(_component_SignUp, {\n            key: 0,\n            switchOption: true,\n            onSwitch: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('switchToRegister')))\n          }))\n        : (!$setup.authenticated && !$props.homeToRegister)\n          ? (_openBlock(), _createBlock(_component_LogIn, {\n              key: 1,\n              switchOption: true,\n              onSwitch: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('switchToRegister')))\n            }))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(_component_router_link, {\n                  to: `/profile/${$setup.info.username}`\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"h1\", _hoisted_6, _toDisplayString($setup.info.username.length > 10 ? $setup.info.username.splice(0, 10) + '..' : $setup.info.username), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"to\"]),\n                _createElementVNode(\"h2\", _hoisted_7, _toDisplayString((new Date($setup.info.registrationDate)).toDateString().slice(4)), 1)\n              ]),\n              _createElementVNode(\"div\", _hoisted_8, [\n                _hoisted_9,\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    _hoisted_12,\n                    _createElementVNode(\"p\", _hoisted_13, _toDisplayString($setup.info.stats.bullet.elo), 1),\n                    _createElementVNode(\"p\", _hoisted_14, _toDisplayString($setup.info.stats.bullet.totalGames), 1)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _hoisted_16,\n                    _createElementVNode(\"p\", _hoisted_17, _toDisplayString($setup.info.stats.blitz.elo), 1),\n                    _createElementVNode(\"p\", _hoisted_18, _toDisplayString($setup.info.stats.blitz.totalGames), 1)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_19, [\n                    _hoisted_20,\n                    _createElementVNode(\"p\", _hoisted_21, _toDisplayString($setup.info.stats.rapid.elo), 1),\n                    _createElementVNode(\"p\", _hoisted_22, _toDisplayString($setup.info.stats.rapid.totalGames), 1)\n                  ])\n                ])\n              ])\n            ]))\n    ]),\n    _createElementVNode(\"div\", _hoisted_23, [\n      _createVNode(_component_Leaderboards, {\n        detailed: false,\n        playersAmount: 5\n      })\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"play\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"header\" }, \"Play\", -1)\nconst _hoisted_3 = { class: \"play__time-modes\" }\nconst _hoisted_4 = { class: \"time-modes__mode\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mode__name\" }, \"Bullet\", -1)\nconst _hoisted_6 = { class: \"mode__options\" }\nconst _hoisted_7 = { class: \"time-modes__mode\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mode__name\" }, \"Blitz\", -1)\nconst _hoisted_9 = { class: \"mode__options\" }\nconst _hoisted_10 = { class: \"time-modes__mode\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mode__name\" }, \"Rapid\", -1)\nconst _hoisted_12 = { class: \"mode__options\" }\nconst _hoisted_13 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '1' ? '' : '1'); $setup.selectedMode = 'bullet'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '1' ? 'btn--chosen' : ''])\n          }, \"1\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '1|1' ? '' : '1|1'); $setup.selectedMode = 'bullet'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '1|1' ? 'btn--chosen' : ''])\n          }, \"1|1\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '2|1' ? '' : '2|1'); $setup.selectedMode = 'bullet'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '2|1' ? 'btn--chosen' : ''])\n          }, \"2|1\", 2)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _hoisted_8,\n        _createElementVNode(\"div\", _hoisted_9, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[3] || (_cache[3] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '3' ? '' : '3'); $setup.selectedMode = 'blitz'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '3' ? 'btn--chosen' : ''])\n          }, \"3\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[4] || (_cache[4] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '3|2' ? '' : '3|2'); $setup.selectedMode = 'blitz'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '3|2' ? 'btn--chosen' : ''])\n          }, \"3|2\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '5' ? '' : '5'); $setup.selectedMode = 'blitz'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '5' ? 'btn--chosen' : ''])\n          }, \"5\", 2)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[6] || (_cache[6] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '10' ? '' : '10'); $setup.selectedMode = 'rapid'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '10' ? 'btn--chosen' : ''])\n          }, \"10\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[7] || (_cache[7] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '15|10' ? '' : '15|10'); $setup.selectedMode = 'rapid'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '15|10' ? 'btn--chosen' : ''])\n          }, \"15|10\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[8] || (_cache[8] = ($event: any) => {$setup.selectedTime = ($setup.selectedTime === '30' ? '' : '30'); $setup.selectedMode = 'rapid'}),\n            class: _normalizeClass(['btn', $setup.selectedTime === '30' ? 'btn--chosen' : ''])\n          }, \"30\", 2)\n        ])\n      ])\n    ]),\n    _createElementVNode(\"button\", {\n      onClick: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => ($setup.startSearch && $setup.startSearch(...args))),\n      disabled: $setup.selectedTime === '' || !$setup.authenticated || $setup.hasActiveGame,\n      class: \"play__play-btn btn btn--full\"\n    }, \"Play\", 8, _hoisted_13)\n  ]))\n}","\r\nimport SocketioService from '@/services/socketio.service';\r\nimport { Store, useStore } from 'vuex';\r\nimport { computed, ComputedRef, Ref, ref } from 'vue';\r\n\r\nexport default {\r\n  setup(_: any, { emit } : any): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n    let selectedTime: Ref<string> = ref('');\r\n    let selectedMode: Ref<string> = ref('');\r\n\r\n    let authenticated: ComputedRef<boolean> = computed(() => store.getters.user?._id != null);\r\n    let hasActiveGame: ComputedRef<boolean> = computed(() => store.getters.activeGame?._id != null);\r\n    let user = computed(() => store.getters.user);\r\n\r\n    const startSearch = (): void => {\r\n      if (!authenticated.value || hasActiveGame.value)\r\n        return;\r\n\r\n      SocketioService.startSearch(selectedMode.value, selectedTime.value, user.value.username, user.value.stats[selectedMode.value].elo);\r\n      emit('showSearch', { mode: selectedMode.value, timeMode: selectedTime.value});\r\n    }\r\n\r\n    return {\r\n      selectedTime,\r\n      selectedMode,\r\n      authenticated,\r\n      hasActiveGame,\r\n      user,\r\n      startSearch\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./Play.vue?vue&type=template&id=30ecc849&ts=true\"\nimport script from \"./Play.vue?vue&type=script&lang=ts\"\nexport * from \"./Play.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"leaderboards\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"header\" }, \"Leaderboards\", -1)\nconst _hoisted_3 = { class: \"leaderboards__tables\" }\nconst _hoisted_4 = { class: \"tables__table\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"table__mode-name\" }, \"Bullet\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"See All\")\nconst _hoisted_7 = { class: \"tables__table\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"table__mode-name\" }, \"Blitz\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"See All\")\nconst _hoisted_10 = { class: \"tables__table\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"table__mode-name\" }, \"Rapid\", -1)\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"See All\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Leaderboard = _resolveComponent(\"Leaderboard\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(_component_Leaderboard, {\n          detailed: $props.detailed,\n          playersAmount: $props.playersAmount,\n          mode: 'bullet'\n        }, null, 8, [\"detailed\", \"playersAmount\"]),\n        ($props.detailed)\n          ? (_openBlock(), _createBlock(_component_router_link, {\n              key: 0,\n              class: \"table__see-all\",\n              to: \"/leaderboard/bullet/1\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_6\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _hoisted_8,\n        _createVNode(_component_Leaderboard, {\n          detailed: $props.detailed,\n          playersAmount: $props.playersAmount,\n          mode: 'blitz'\n        }, null, 8, [\"detailed\", \"playersAmount\"]),\n        ($props.detailed)\n          ? (_openBlock(), _createBlock(_component_router_link, {\n              key: 0,\n              class: \"table__see-all\",\n              to: \"/leaderboard/blitz/1\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_9\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createVNode(_component_Leaderboard, {\n          detailed: $props.detailed,\n          playersAmount: $props.playersAmount,\n          mode: 'rapid'\n        }, null, 8, [\"detailed\", \"playersAmount\"]),\n        ($props.detailed)\n          ? (_openBlock(), _createBlock(_component_router_link, {\n              key: 0,\n              class: \"table__see-all\",\n              to: \"/leaderboard/rapid/1\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_12\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"leaderboard\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"table__players\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"players__headers\"\n}\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<p class=\\\"headers__rank\\\">Rank</p><p class=\\\"headers__name\\\">Player</p><p class=\\\"headers__rating\\\">Rating</p><p class=\\\"headers__games\\\">Games</p><p class=\\\"headers__won\\\">Won</p><p class=\\\"headers__lost\\\">Lost</p><p class=\\\"headers__draw\\\">Draw</p>\", 7)\nconst _hoisted_11 = [\n  _hoisted_4\n]\nconst _hoisted_12 = { class: \"player__name\" }\nconst _hoisted_13 = { class: \"player__elo\" }\nconst _hoisted_14 = {\n  key: 0,\n  class: \"player__total-games\"\n}\nconst _hoisted_15 = {\n  key: 1,\n  class: \"player__stats\"\n}\nconst _hoisted_16 = { class: \"stats__won\" }\nconst _hoisted_17 = { class: \"stats__lost\" }\nconst _hoisted_18 = { class: \"stats__draw\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!$setup.isLoading)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          ($props.detailed)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_11))\n            : _createCommentVNode(\"\", true),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.players, (player, index) => {\n            return (_openBlock(), _createBlock(_component_router_link, {\n              key: player._id,\n              to: `/profile/${player.username}`,\n              class: \"players__player\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: _normalizeClass(['player__place', \r\n          index + 1 + ($props.playersAmount * ($props.page - 1)) === 1 ? 'player__place--first' : \r\n          index + 1 + ($props.playersAmount * ($props.page - 1)) === 2 ? 'player__place--second' : \r\n          index + 1 + ($props.playersAmount * ($props.page - 1)) === 3 ? 'player__place--third' : ''\r\n        ])\n                }, _toDisplayString(index + 1 + ($props.playersAmount * ($props.page - 1))), 3),\n                _createElementVNode(\"div\", _hoisted_12, _toDisplayString(player.username), 1),\n                _createElementVNode(\"div\", _hoisted_13, _toDisplayString(player.stats[$props.mode].elo), 1),\n                ($props.detailed)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _toDisplayString(player.stats[$props.mode].totalGames), 1))\n                  : _createCommentVNode(\"\", true),\n                ($props.detailed)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                      _createElementVNode(\"span\", _hoisted_16, _toDisplayString((Math.round(player.stats[$props.mode].won / player.stats[$props.mode].totalGames * 1000) / 10).toFixed(1)) + \"%\", 1),\n                      _createElementVNode(\"span\", _hoisted_17, _toDisplayString((Math.round(player.stats[$props.mode].lost / player.stats[$props.mode].totalGames * 1000) / 10).toFixed(1)) + \"%\", 1),\n                      _createElementVNode(\"span\", _hoisted_18, _toDisplayString((Math.round(player.stats[$props.mode].draw / player.stats[$props.mode].totalGames * 1000) / 10).toFixed(1)) + \"%\", 1)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 2\n            }, 1032, [\"to\"]))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\r\nimport { ref, onMounted, watch, Ref } from 'vue';\r\nimport { server } from '@/helper';\r\n\r\nexport default {\r\n  props: {\r\n    detailed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    playersAmount: {\r\n      type: Number, \r\n      required: true,\r\n      default: 5\r\n    },\r\n    mode: {\r\n      type: String,\r\n      required: true,\r\n      validator: function(val: string): boolean {\r\n        return ['bullet', 'blitz', 'rapid'].includes(val);\r\n      }\r\n    },\r\n    page: {\r\n      type: [String, Number],\r\n      required: false,\r\n      default: 1\r\n    }\r\n  },\r\n  setup(props: any, { emit }: any): Record<string, unknown> {\r\n    let isLoading: Ref<boolean> = ref(true);\r\n\r\n    let players: Ref<Record<string, unknown>[]> = ref([]);\r\n\r\n    const fetchLeaders = (): void => {\r\n      emit('loading');\r\n      isLoading.value = true;\r\n      fetch(`${server.baseURL}/users`)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        let sorted: Record<string, unknown>[] = [];\r\n        isLoading.value = false;\r\n        if (props.mode === 'bullet') {\r\n          sorted = data.sort((a: { stats: { bullet: { elo: number; }; }; }, b: { stats: { bullet: { elo: number; }; }; }) => b.stats.bullet.elo - a.stats.bullet.elo);\r\n          emit('changeTotalPagesVal', Math.ceil(sorted.length / props.playersAmount));\r\n        }\r\n        else if (props.mode === 'blitz') {\r\n          sorted = data.sort((a: { stats: { blitz: { elo: number; }; }; }, b: { stats: { blitz: { elo: number; }; }; }) => b.stats.blitz.elo - a.stats.blitz.elo);\r\n          emit('changeTotalPagesVal', Math.ceil(sorted.length / props.playersAmount));\r\n        }\r\n        else if (props.mode === 'rapid') {\r\n          sorted = data.sort((a: { stats: { rapid: { elo: number; }; }; }, b: { stats: { rapid: { elo: number; }; }; }) => b.stats.rapid.elo - a.stats.rapid.elo);\r\n          emit('changeTotalPagesVal', Math.ceil(sorted.length / props.playersAmount));\r\n        }\r\n        players.value = sorted.filter((_: any, idx: number) => idx > (props.page - 1) * props.playersAmount && idx <= props.page * props.playersAmount);\r\n      });\r\n    }\r\n    onMounted(fetchLeaders);\r\n    watch(() => [props.mode, props.page], fetchLeaders);\r\n\r\n    return {\r\n      players,\r\n      isLoading,\r\n      fetchLeaders\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./Leaderboard.vue?vue&type=template&id=0bd25e99&ts=true\"\nimport script from \"./Leaderboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Leaderboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport Leaderboard from '@/components/Leaderboard.vue';\r\n\r\nexport default {\r\n  props: {\r\n    detailed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    playersAmount: {\r\n      type: Number,\r\n      required: true,\r\n      default: 5\r\n    }\r\n  },\r\n  components: {\r\n    Leaderboard\r\n  }\r\n}\r\n","import { render } from \"./Leaderboards.vue?vue&type=template&id=23ca104d&ts=true\"\nimport script from \"./Leaderboards.vue?vue&type=script&lang=ts\"\nexport * from \"./Leaderboards.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport { computed, ComputedRef } from 'vue';\r\nimport { Store, useStore } from 'vuex';\r\nimport SignUp from \"@/components/SignUp.vue\";\r\nimport LogIn from \"@/components/LogIn.vue\";\r\nimport Play from \"@/components/Play.vue\";\r\nimport Leaderboards from \"@/components/Leaderboards.vue\";\r\n\r\nexport default {\r\n  props: {\r\n    homeToRegister: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n\r\n    let authenticated: ComputedRef<boolean> = computed(() => store.getters.user?._id != null);\r\n\r\n    const info: ComputedRef<Record<string, unknown>> = computed(() => store.getters.user);\r\n    return {\r\n      info,\r\n      authenticated\r\n    }\r\n  },\r\n  components: {\r\n    SignUp,\r\n    LogIn,\r\n    Play,\r\n    Leaderboards,\r\n  }\r\n}\r\n","import { render } from \"./Home.vue?vue&type=template&id=8231fda0&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withCtx as _withCtx, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"base-container\" }\nconst _hoisted_2 = { class: \"grid__item\" }\nconst _hoisted_3 = { class: \"profile-layout\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"info\"\n}\nconst _hoisted_5 = { class: \"tabs\" }\nconst _hoisted_6 = {\n  key: 1,\n  id: \"stats\",\n  class: \"tab__content tab__content--active\"\n}\nconst _hoisted_7 = {\n  key: 2,\n  id: \"games\",\n  class: \"tab__content\"\n}\nconst _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"games__headers\\\"><p class=\\\"headers__players\\\">Players</p><p class=\\\"headers__score\\\">Score</p><p class=\\\"headers__mode\\\">Mode</p><p class=\\\"headers__moves\\\">Moves</p><p class=\\\"headers__date\\\">Date</p></div>\", 1)\nconst _hoisted_9 = { class: \"game__players\" }\nconst _hoisted_10 = { class: \"game__score\" }\nconst _hoisted_11 = {\n  key: 2,\n  class: \"game__live\"\n}\nconst _hoisted_12 = { class: \"game__mode\" }\nconst _hoisted_13 = { class: \"game__moves\" }\nconst _hoisted_14 = { key: 0 }\nconst _hoisted_15 = {\n  key: 1,\n  class: \"game__live\"\n}\nconst _hoisted_16 = { class: \"game__date\" }\nconst _hoisted_17 = { key: 3 }\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"p\", null, \"No games have been played yet\", -1)\nconst _hoisted_19 = [\n  _hoisted_18\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModeStats = _resolveComponent(\"ModeStats\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (!$setup.isLoading)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createElementVNode(\"h1\", null, _toDisplayString($setup.user.username), 1),\n              _createElementVNode(\"h3\", null, _toDisplayString(new Date($setup.user.registrationDate).toDateString().slice(4)), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"button\", {\n            class: _normalizeClass(['btn', $setup.showStats ? 'btn--chosen' : '']),\n            onClick: _cache[0] || (_cache[0] = ($event: any) => ($setup.showStats = true))\n          }, \"Stats\", 2),\n          _createElementVNode(\"button\", {\n            class: _normalizeClass(['btn', !$setup.showStats ? 'btn--chosen' : '']),\n            onClick: _cache[1] || (_cache[1] = ($event: any) => ($setup.showStats = false))\n          }, \"Games\", 2)\n        ]),\n        (!$setup.isLoading)\n          ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n              _createVNode(_component_ModeStats, {\n                mode: 'bullet',\n                stats: $setup.user.stats\n              }, null, 8, [\"stats\"]),\n              _createVNode(_component_ModeStats, {\n                mode: 'blitz',\n                stats: $setup.user.stats\n              }, null, 8, [\"stats\"]),\n              _createVNode(_component_ModeStats, {\n                mode: 'rapid',\n                stats: $setup.user.stats\n              }, null, 8, [\"stats\"])\n            ], 512)), [\n              [_vShow, $setup.showStats]\n            ])\n          : _createCommentVNode(\"\", true),\n        (!$setup.isLoading && $setup.games.length !== 0)\n          ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n              _hoisted_8,\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.games, (game) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: game.id,\n                  class: \"games__game\"\n                }, [\n                  _createElementVNode(\"div\", _hoisted_9, [\n                    _createVNode(_component_router_link, {\n                      to: `/profile/${game.white.username}`,\n                      onClick: _cache[2] || (_cache[2] = ($event: any) => ($setup.showStats = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(game.white.username) + \"(\" + _toDisplayString(game.white.eloAtTheTime) + \")\", 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"to\"]),\n                    _createVNode(_component_router_link, {\n                      to: `/profile/${game.black.username}`,\n                      onClick: _cache[3] || (_cache[3] = ($event: any) => ($setup.showStats = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(game.black.username) + \"(\" + _toDisplayString(game.black.eloAtTheTime) + \")\", 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"to\"])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    (game.isFinished)\n                      ? (_openBlock(), _createElementBlock(\"p\", {\n                          key: 0,\n                          class: _normalizeClass(game.white.score === 1 && game.black.score === 1 ? '' : game.white.score === 1 ? 'score--green' : 'score--red')\n                        }, _toDisplayString(game.white.score), 3))\n                      : _createCommentVNode(\"\", true),\n                    (game.isFinished)\n                      ? (_openBlock(), _createElementBlock(\"p\", {\n                          key: 1,\n                          class: _normalizeClass(game.white.score === 1 && game.black.score === 1 ? '' : game.white.score === 1 ? 'score--red' : 'score--green')\n                        }, _toDisplayString(game.black.score), 3))\n                      : _createCommentVNode(\"\", true),\n                    (!game.isFinished)\n                      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, \"LIVE\"))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_12, [\n                    _createElementVNode(\"p\", null, _toDisplayString(game.mode.charAt(0).toUpperCase() + game.mode.slice(1)), 1)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    (game.isFinished)\n                      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_14, _toDisplayString(game.moves), 1))\n                      : _createCommentVNode(\"\", true),\n                    (!game.isFinished)\n                      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, \"LIVE\"))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _createElementVNode(\"p\", null, _toDisplayString(new Date(game.date).toDateString().slice(4)), 1)\n                  ])\n                ]))\n              }), 128))\n            ], 512)), [\n              [_vShow, !$setup.showStats]\n            ])\n          : ($setup.games.length === 0)\n            ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_17, _hoisted_19, 512)), [\n                [_vShow, !$setup.showStats]\n              ])\n            : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"stats__mode\" }\nconst _hoisted_2 = { class: \"mode__name header\" }\nconst _hoisted_3 = { class: \"mode__general\" }\nconst _hoisted_4 = { class: \"general__elo\" }\nconst _hoisted_5 = { class: \"elo__value\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Rating\", -1)\nconst _hoisted_7 = { class: \"general__total-games\" }\nconst _hoisted_8 = { class: \"total-games__value\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Total games\", -1)\nconst _hoisted_10 = {\n  key: 0,\n  class: \"mode__game-bar\"\n}\nconst _hoisted_11 = { class: \"game-bar__header game-bar--top\" }\nconst _hoisted_12 = {\n  key: 0,\n  class: \"game-bar__bar\"\n}\nconst _hoisted_13 = { class: \"game-bar__header game-bar--bottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h2\", _hoisted_2, _toDisplayString($props.mode === 'bullet' ? 'Bullet' : ($props.mode === 'blitz' ? 'Blitz' : 'Rapid')), 1),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"h3\", _hoisted_5, _toDisplayString($props.mode === 'bullet' ? $props.stats.bullet.elo : ($props.mode === 'blitz' ? $props.stats.blitz.elo : $props.stats.rapid.elo)), 1),\n        _hoisted_6\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"h3\", _hoisted_8, _toDisplayString($props.mode === 'bullet' ? $props.stats.bullet.totalGames : ($props.mode === 'blitz' ? $props.stats.blitz.totalGames : $props.stats.rapid.totalGames)), 1),\n        _hoisted_9\n      ])\n    ]),\n    (($props.mode === 'bullet' && $setup.info.bullet.totalGames !== 0) || ($props.mode === 'blitz' && $setup.info.blitz.totalGames !== 0) || ($props.mode === 'rapid' && $setup.info.rapid.totalGames !== 0))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", _hoisted_11, [\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--green\",\n              style: _normalizeStyle({ 'flex-basis': $setup.wonPercentToUse + '%' })\n            }, _toDisplayString($setup.wonPercentToUse) + \"%\", 5),\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--grey\",\n              style: _normalizeStyle({ 'flex-basis': $setup.drawPercentToUse + '%' })\n            }, _toDisplayString($setup.drawPercentToUse) + \"%\", 5),\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--red\",\n              style: _normalizeStyle({ 'flex-basis': $setup.lostPercentToUse + '%' })\n            }, _toDisplayString($setup.lostPercentToUse) + \"%\", 5)\n          ]),\n          (($props.mode === 'bullet' && $setup.info.bullet.totalGames !== 0) || ($props.mode === 'blitz' && $setup.info.blitz.totalGames !== 0) || ($props.mode === 'rapid' && $setup.info.rapid.totalGames !== 0))\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _createElementVNode(\"span\", {\n                  class: \"game-bar__section game-bar--green\",\n                  style: _normalizeStyle({ 'flex-grow': $setup.wonPercentToUse })\n                }, null, 4),\n                _createElementVNode(\"span\", {\n                  class: \"game-bar__section game-bar--grey\",\n                  style: _normalizeStyle({ 'flex-grow': $setup.drawPercentToUse })\n                }, null, 4),\n                _createElementVNode(\"span\", {\n                  class: \"game-bar__section game-bar--red\",\n                  style: _normalizeStyle({ 'flex-grow': $setup.lostPercentToUse })\n                }, null, 4)\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--green\",\n              style: _normalizeStyle({ 'flex-basis': $setup.wonPercentToUse + '%' })\n            }, _toDisplayString($props.mode === 'bullet' ? $props.stats.bullet.won : ($props.mode === 'blitz' ? $props.stats.blitz.won : $props.stats.rapid.won)) + \" Won\", 5),\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--grey\",\n              style: _normalizeStyle({ 'flex-basis': $setup.drawPercentToUse + '%' })\n            }, _toDisplayString($props.mode === 'bullet' ? $props.stats.bullet.draw : ($props.mode === 'blitz' ? $props.stats.blitz.draw : $props.stats.rapid.draw)) + \" Drawn\", 5),\n            _createElementVNode(\"span\", {\n              class: \"game-bar__section game-bar--red\",\n              style: _normalizeStyle({ 'flex-basis': $setup.lostPercentToUse + '%' })\n            }, _toDisplayString($props.mode === 'bullet' ? $props.stats.bullet.lost : ($props.mode === 'blitz' ? $props.stats.blitz.lost : $props.stats.rapid.lost)) + \" Lost\", 5)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\r\nimport { computed, ComputedRef, reactive, Ref } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n    mode: {\r\n      type: String,\r\n      required: true,\r\n      validator: function(val: string): boolean {\r\n        return ['bullet', 'blitz', 'rapid'].includes(val);\r\n      }\r\n    },\r\n    stats: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const info: { \r\n      bullet: { won: number, lost: number, totalGames: number }, \r\n      blitz: { won: number, lost: number, totalGames: number }, \r\n      rapid: { won: number, lost: number, totalGames: number } \r\n    } = reactive(props.stats);\r\n\r\n    const wonBulletPercent: ComputedRef<number> = computed(() => Math.round(info.bullet.won / info.bullet.totalGames * 100));\r\n    const lostBulletPercent: ComputedRef<number> = computed(() => Math.round(info.bullet.lost / info.bullet.totalGames * 100));\r\n    const drawBulletPercent: ComputedRef<number> = computed(() => Math.round(100 - wonBulletPercent.value - lostBulletPercent.value));\r\n    const wonBlitzPercent: ComputedRef<number> = computed(() => Math.round(info.blitz.won / info.blitz.totalGames * 100));\r\n    const lostBlitzPercent: ComputedRef<number> = computed(() => Math.round(info.blitz.lost / info.blitz.totalGames * 100));\r\n    const drawBlitzPercent: ComputedRef<number> = computed(() => Math.round(100 - wonBlitzPercent.value - lostBlitzPercent.value));\r\n    const wonRapidPercent: ComputedRef<number> = computed(() => Math.round(info.rapid.won / info.rapid.totalGames * 100));\r\n    const lostRapidPercent: ComputedRef<number> = computed(() => Math.round(info.rapid.lost / info.rapid.totalGames * 100));\r\n    const drawRapidPercent: ComputedRef<number> = computed(() => Math.round(100 - wonRapidPercent.value - lostRapidPercent.value));\r\n\r\n    const wonPercentToUse: ComputedRef<number> = computed(() => props.mode === 'bullet' ? wonBulletPercent.value : (props.mode === 'blitz' ? wonBlitzPercent.value : wonRapidPercent.value));\r\n    const drawPercentToUse: ComputedRef<number> = computed(() => props.mode === 'bullet' ? drawBulletPercent.value : (props.mode === 'blitz' ? drawBlitzPercent.value : drawRapidPercent.value));\r\n    const lostPercentToUse: ComputedRef<number> = computed(() => props.mode === 'bullet' ? lostBulletPercent.value : (props.mode === 'blitz' ? lostBlitzPercent.value : lostRapidPercent.value));\r\n    return {\r\n      info,\r\n      wonPercentToUse,\r\n      drawPercentToUse,\r\n      lostPercentToUse\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./ModeStats.vue?vue&type=template&id=14847589&ts=true\"\nimport script from \"./ModeStats.vue?vue&type=script&lang=ts\"\nexport * from \"./ModeStats.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport { Store, useStore } from 'vuex';\r\nimport { Router, useRouter } from 'vue-router';\r\nimport { ref, Ref, watch } from 'vue';\r\nimport ModeStats from '@/components/ModeStats.vue';\r\nimport { server } from '@/helper';\r\n\r\nexport default {\r\n  props: {\r\n    username: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n    const router: Router = useRouter();\r\n    \r\n    let showStats: Ref<boolean> = ref(true);\r\n    let isLoading: Ref<boolean> = ref(true);\r\n    let user: Ref<Record<string, unknown>> = ref({});\r\n    let games: Ref<Record<string, unknown>[]> = ref([]);\r\n\r\n    const initializeUser = (): void => {\r\n      if (store.getters.user?.username === props.username) {\r\n        user.value = store.getters.user;\r\n        isLoading.value = false;\r\n      }\r\n      else {\r\n        fetch(`${server.baseURL}/users/${props.username}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          user.value = data;\r\n          isLoading.value = false;\r\n        })\r\n        .catch(() => router.replace('/'));\r\n      }\r\n\r\n      fetch(`${server.baseURL}/games?username=${props.username}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          games.value = data.sort((a: { date: Date; }, b: { date: Date; }) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n          isLoading.value = false;\r\n      });\r\n    }\r\n    initializeUser();\r\n    watch(() => props.username, initializeUser);\r\n\r\n    return {\r\n      showStats,\r\n      user,\r\n      games,\r\n      initializeUser,\r\n      isLoading\r\n    }\r\n  },\r\n  components: {\r\n    ModeStats\r\n  }\r\n}\r\n","import { render } from \"./ProfilePage.vue?vue&type=template&id=0ec1d51a&ts=true\"\nimport script from \"./ProfilePage.vue?vue&type=script&lang=ts\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"base-flex\" }\nconst _hoisted_2 = { class: \"grid__item\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_BoardSection = _resolveComponent(\"BoardSection\")!\n  const _component_Sidebar = _resolveComponent(\"Sidebar\")!\n  const _component_ModalEndgame = _resolveComponent(\"ModalEndgame\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_BoardSection, {\n        gameStarted: !!$props.id,\n        gameData: $setup.gameData,\n        joinedChat: $setup.joinedChat,\n        onSetMoves: _cache[0] || (_cache[0] = (movesAmount) => $setup.moves = movesAmount),\n        onEndGame: _cache[1] || (_cache[1] = (whiteScore, blackScore) => $setup.endGame(whiteScore = whiteScore, blackScore = blackScore))\n      }, null, 8, [\"gameStarted\", \"gameData\", \"joinedChat\"])\n    ]),\n    _createVNode(_component_Sidebar, {\n      gameStarted: !!$props.id,\n      joinedChat: $setup.joinedChat,\n      savedChat: $setup.gameData?.chat,\n      onShowSearch: _cache[2] || (_cache[2] = (payload) => _ctx.$emit('showSearch', payload)),\n      onSurrender: _cache[3] || (_cache[3] = () => $setup.user.username === $setup.gameData.black.username ? $setup.endGame(_ctx.whiteScore = 1, _ctx.blackScore = 0) : $setup.endGame(_ctx.whiteScore = 0, _ctx.blakcScore = 1)),\n      onDraw: _cache[4] || (_cache[4] = ($event: any) => ($setup.endGame(1, 1))),\n      onOfferDraw: $setup.offerDraw\n    }, null, 8, [\"gameStarted\", \"joinedChat\", \"savedChat\", \"onOfferDraw\"]),\n    ($setup.isModalVisible)\n      ? (_openBlock(), _createBlock(_component_ModalEndgame, {\n          key: 0,\n          gameData: $setup.gameData,\n          resultData: $setup.resultData,\n          onCloseModal: $setup.closeModalAndRedirect\n        }, null, 8, [\"gameData\", \"resultData\", \"onCloseModal\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"layout-board-section\" }\nconst _hoisted_2 = { class: \"layout__player layout__player--top\" }\nconst _hoisted_3 = { class: \"player__info\" }\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"player__timer\"\n}\nconst _hoisted_6 = { class: \"layout__player layout__player--bottom\" }\nconst _hoisted_7 = { class: \"player__info\" }\nconst _hoisted_8 = { key: 1 }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"player__timer\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_ModalPromotion = _resolveComponent(\"ModalPromotion\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"p\", _hoisted_3, [\n        ($props.gameStarted && $props.gameData?._id)\n          ? (_openBlock(), _createBlock(_component_router_link, {\n              key: 0,\n              to: `/profile/${!$setup.isFlipped ? $props.gameData?.black?.username : $props.gameData?.white?.username}`\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(!$setup.isFlipped ? $props.gameData?.black?.username : $props.gameData?.white?.username), 1)\n              ]),\n              _: 1\n            }, 8, [\"to\"]))\n          : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(\"Opponent\"))),\n        _createTextVNode(\" \" + _toDisplayString($props.gameStarted && $props.gameData?._id ? `(${!$setup.isFlipped ? $props.gameData?.black?.eloAtTheTime : $props.gameData?.white?.eloAtTheTime})` : \"\"), 1)\n      ]),\n      ($setup.whiteTime !== -1 && $props.gameStarted && $props.gameData?._id)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"span\", null, _toDisplayString(new Date((!$setup.isFlipped ? $setup.blackTime : $setup.whiteTime) * 1000).toISOString().substr(14, 5)), 1)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['layout__board', $setup.isFlipped ? 'flipped' : '']),\n      onMousedown: _cache[32] || (_cache[32] = \n//@ts-ignore\n(...args) => ($setup.resetBoard && $setup.resetBoard(...args)))\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(64, (index) => {\n        return _createElementVNode(\"div\", {\n          key: index,\n          class: \"square\"\n        })\n      }), 64)),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece br square-18\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bn square-28\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bb square-38\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bq square-48\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bk square-58\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bb square-68\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bn square-78\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece br square-88\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-17\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-27\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[10] || (_cache[10] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-37\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[11] || (_cache[11] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-47\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[12] || (_cache[12] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-57\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[13] || (_cache[13] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-67\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[14] || (_cache[14] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-77\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[15] || (_cache[15] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece bp square-87\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[16] || (_cache[16] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wr square-11\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[17] || (_cache[17] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wn square-21\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[18] || (_cache[18] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wb square-31\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[19] || (_cache[19] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wq square-41\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[20] || (_cache[20] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wk square-51\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[21] || (_cache[21] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wb square-61\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[22] || (_cache[22] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wn square-71\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[23] || (_cache[23] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wr square-81\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[24] || (_cache[24] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-12\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[25] || (_cache[25] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-22\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[26] || (_cache[26] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-32\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[27] || (_cache[27] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-42\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[28] || (_cache[28] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-52\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[29] || (_cache[29] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-62\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[30] || (_cache[30] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-72\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", {\n        onMousedown: _cache[31] || (_cache[31] = \n//@ts-ignore\n(...args) => ($setup.startMoving && $setup.startMoving(...args))),\n        class: \"piece wp square-82\"\n      }, null, 544), [\n        [_vShow, $props.joinedChat && $setup.gotData || !$props.gameStarted]\n      ])\n    ], 34),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"p\", _hoisted_7, [\n        ($props.gameStarted && $props.gameData?._id && $setup.user?.username)\n          ? (_openBlock(), _createBlock(_component_router_link, {\n              key: 0,\n              to: `/profile/${!$setup.isFlipped ? $props.gameData?.white?.username : $props.gameData?.black?.username}`\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(!$setup.isFlipped ? $props.gameData?.white?.username : $props.gameData?.black?.username), 1)\n              ]),\n              _: 1\n            }, 8, [\"to\"]))\n          : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString($setup.user?.username ?? \"User\"), 1)),\n        _createTextVNode(\" \" + _toDisplayString($props.gameStarted && $props.gameData?._id ? `(${!$setup.isFlipped ? $props.gameData?.white?.eloAtTheTime : $props.gameData?.black?.eloAtTheTime})` : \"\"), 1)\n      ]),\n      ($setup.whiteTime !== -1 && $props.gameStarted && $props.gameData?._id)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n            _createElementVNode(\"span\", null, _toDisplayString(new Date((!$setup.isFlipped ? $setup.whiteTime : $setup.blackTime) * 1000).toISOString().substr(14, 5)), 1)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    ($setup.isModalVisible)\n      ? (_openBlock(), _createBlock(_component_ModalPromotion, {\n          key: 0,\n          onCloseModal: $setup.closeModal,\n          onChoosePiece: _cache[33] || (_cache[33] = (name) => $setup.choosePromotionPiece(name)),\n          color: $setup.user.username === $props.gameData.white.username ? 'white' : 'black'\n        }, null, 8, [\"onCloseModal\", \"color\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\nimport _imports_0 from '@/assets/img/bQueen.png'\nimport _imports_1 from '@/assets/img/bKnight.png'\nimport _imports_2 from '@/assets/img/bRook.png'\nimport _imports_3 from '@/assets/img/bBishop.png'\nimport _imports_4 from '@/assets/img/wQueen.png'\nimport _imports_5 from '@/assets/img/wKnight.png'\nimport _imports_6 from '@/assets/img/wRook.png'\nimport _imports_7 from '@/assets/img/wBishop.png'\n\n\nconst _hoisted_1 = { class: \"modal-backdrop\" }\nconst _hoisted_2 = { class: \"modal modal--promotion\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"modal__pieces\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"modal__pieces\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('closeModal'))),\n        class: \"modal__close\"\n      }, \"\"),\n      ($props.color === 'black')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createElementVNode(\"img\", {\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('choosePiece', 'q'))),\n              class: \"pieces__piece\",\n              src: _imports_0\n            }),\n            _createElementVNode(\"img\", {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('choosePiece', 'n'))),\n              class: \"pieces__piece\",\n              src: _imports_1\n            }),\n            _createElementVNode(\"img\", {\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('choosePiece', 'r'))),\n              class: \"pieces__piece\",\n              src: _imports_2\n            }),\n            _createElementVNode(\"img\", {\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.$emit('choosePiece', 'b'))),\n              class: \"pieces__piece\",\n              src: _imports_3\n            })\n          ]))\n        : ($props.color === 'white')\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createElementVNode(\"img\", {\n                onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.$emit('choosePiece', 'q'))),\n                class: \"pieces__piece\",\n                src: _imports_4\n              }),\n              _createElementVNode(\"img\", {\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.$emit('choosePiece', 'n'))),\n                class: \"pieces__piece\",\n                src: _imports_5\n              }),\n              _createElementVNode(\"img\", {\n                onClick: _cache[7] || (_cache[7] = ($event: any) => (_ctx.$emit('choosePiece', 'r'))),\n                class: \"pieces__piece\",\n                src: _imports_6\n              }),\n              _createElementVNode(\"img\", {\n                onClick: _cache[8] || (_cache[8] = ($event: any) => (_ctx.$emit('choosePiece', 'b'))),\n                class: \"pieces__piece\",\n                src: _imports_7\n              })\n            ]))\n          : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\r\nexport default {\r\n  props: {\r\n    color: {\r\n      required: true,\r\n      type: String,\r\n      validator(val: string): boolean {\r\n        return ['black', 'white'].includes(val);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./ModalPromotion.vue?vue&type=template&id=39ca43ee&ts=true\"\nimport script from \"./ModalPromotion.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalPromotion.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport { Store, useStore } from 'vuex';\r\nimport { computed, ComputedRef, onMounted, onUnmounted, Ref, ref, watch } from 'vue';\r\nimport SocketioService from '@/services/socketio.service';\r\nimport { Socket } from 'socket.io-client';\r\nimport ModalPromotion from '@/components/ModalPromotion.vue'\r\n\r\nexport default {\r\n  props: {\r\n    gameData: {\r\n      required: false,\r\n      type: Object\r\n    },\r\n    gameStarted: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    joinedChat: {\r\n      required: true,\r\n      type: Boolean\r\n    }\r\n  },\r\n  setup(props: any, { emit }: any): Record<string, unknown> {\r\n    const store: Store<any> = useStore();\r\n    const socket: Socket = SocketioService.getSocket();\r\n\r\n    let board: string[][] = [\r\n      ['R','N','B','K','Q','B','N','R'],\r\n      ['P','P','P','P','P','P','P','P'],\r\n      ['','','','','','','',''],\r\n      ['','','','','','','',''],\r\n      ['','','','','','','',''],\r\n      ['','','','','','','',''],\r\n      ['p','p','p','p','p','p','p','p'],\r\n      ['r','n','b','k','q','b','n','r'],\r\n    ];\r\n\r\n    let isModalVisible: Ref<boolean> = ref(false);\r\n\r\n    let user: ComputedRef<Record<string, unknown>> = computed(() => store.getters.user);\r\n    let isWhiteTurn = true;\r\n    let sentMadeMove = false;\r\n    let whiteCastling = {\r\n      WKSC: true,\r\n      WQSC: true\r\n    };\r\n    let blackCastling = {\r\n      BKSC: true,\r\n      BQSC: true\r\n    };\r\n    let enPassant: { isAvailable: boolean, passingPawn: number[], captureSquare: number[] } = {\r\n      isAvailable: false,\r\n      passingPawn: [],\r\n      captureSquare: []\r\n    }\r\n    let isCheck = false;\r\n    let whiteTime: Ref<number> = ref(-1);\r\n    let blackTime: Ref<number> = ref(-1);\r\n    let isPromotion = false;\r\n    let gotData: Ref<boolean> = ref(false);\r\n\r\n    onMounted(() => {\r\n      if (props.gameData?._id) {\r\n        SocketioService.startTimer(props.gameData._id, props.gameData.timeMode.split('|')[0] * 60, parseInt(props.gameData.timeMode.split('|')[1]) ?? 0, board, props.gameData.mode, props.gameData.white.username, props.gameData.black.username, props.gameData.white.eloAtTheTime, props.gameData.black.eloAtTheTime);\r\n        SocketioService.getGameData(props.gameData._id);\r\n      }\r\n    });\r\n    watch(() => props.gameData, () => {\r\n      SocketioService.startTimer(props.gameData._id, props.gameData.timeMode.split('|')[0] * 60, parseInt(props.gameData.timeMode.split('|')[1]) ?? 0, board, props.gameData.mode, props.gameData.white.username, props.gameData.black.username, props.gameData.white.eloAtTheTime, props.gameData.black.eloAtTheTime);\r\n      SocketioService.getGameData(props.gameData._id);\r\n    });\r\n    socket.on('sendData', (payload: { board: string[][], isWhiteTurn: boolean, moves: number, whiteCastling: { WKSC: boolean, WQSC: boolean }, blackCastling: { BKSC: boolean, BQSC: boolean }, enPassant: { isAvailable: boolean, passingPawn: number[], captureSquare: number[] }, isCheck: boolean }) => {\r\n      isWhiteTurn = payload.isWhiteTurn;\r\n      whiteCastling = payload.whiteCastling;\r\n      blackCastling = payload.blackCastling;\r\n      enPassant = payload.enPassant;\r\n      isCheck = payload.isCheck;\r\n      board = payload.board;\r\n      \r\n      gotData.value = true;\r\n      resetBoard();\r\n    });\r\n    socket.on('sendTime', (payload: { whiteTime: number, blackTime: number}) => {\r\n      whiteTime.value = payload.whiteTime;\r\n      blackTime.value = payload.blackTime;\r\n    });\r\n\r\n    let isFlipped: ComputedRef<boolean> = computed(() => user.value?.username != null && user.value?.username === props.gameData?.black?.username);\r\n    \r\n    socket.on('madeMove', (payload: { board: string[][], isWhiteTurn: boolean, moves: number, whiteCastling: { WKSC: boolean, WQSC: boolean }, blackCastling: { BKSC: boolean, BQSC: boolean }, enPassant: { isAvailable: boolean, passingPawn: number[], captureSquare: number[] }, isCheck: boolean }) => {\r\n      isWhiteTurn = payload.isWhiteTurn;\r\n      whiteCastling = payload.whiteCastling;\r\n      blackCastling = payload.blackCastling;\r\n      enPassant = payload.enPassant;\r\n      isCheck = payload.isCheck;\r\n      emit('setMoves', payload.moves);\r\n      if (!sentMadeMove) {\r\n        board = payload.board;\r\n        resetBoard();\r\n      }\r\n      else {\r\n        sentMadeMove = false;\r\n      }\r\n    });\r\n    onUnmounted(() => {\r\n      socket.off('madeMove');\r\n      socket.off('sendTime');\r\n      socket.off('sendData');\r\n    })\r\n\r\n    const resetBoard = () => {\r\n      let pieces = Array.from(document.querySelectorAll('.piece'));\r\n      let freePieces = [];\r\n      freePieces.push(...Array.from(document.querySelectorAll('.element-pool')));\r\n      for (let i = 0; i < board.length; i++) {\r\n        for (let j = 0; j < board[i].length; j++) {\r\n          if (board[i][j] === '') {\r\n            let squareClass = `square-${8 - j}${i + 1}`; \r\n            let checkPiece = pieces.find((p: Element) => Array.from(p.classList).includes(squareClass));\r\n            if (checkPiece) {\r\n              freePieces.push(checkPiece);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for (let i = 0; i < board.length; i++) {\r\n        for (let j = 0; j < board[i].length; j++) {\r\n          if (board[i][j] !== '') {\r\n            let newSquareClass = `square-${8 - j}${i + 1}`;\r\n            let newPieceClass = board[i][j] === board[i][j].toLowerCase() ? 'b' + board[i][j] : 'w' + board[i][j].toLowerCase();\r\n\r\n            let alreadyPiece = pieces.find((p: Element) => Array.from(p.classList).includes(newSquareClass) && Array.from(p.classList).includes(newPieceClass));\r\n            if (alreadyPiece) {\r\n              pieces = pieces.filter(p => p !== alreadyPiece);\r\n              continue;\r\n            }\r\n\r\n            let pieceOnSquare = pieces.find((p: Element) => Array.from(p.classList).includes(newSquareClass));\r\n            if (pieceOnSquare)\r\n              freePieces.push(pieceOnSquare);\r\n\r\n            let piece: Element = freePieces[0];\r\n            if (piece) {\r\n              freePieces = freePieces.filter((p: Element) => p !== piece);\r\n              let squareClass: string = [...piece.classList].find(cl => cl.includes('square'))!;\r\n              let pieceClass: string = [...piece.classList].find(cl => cl.includes('w') || cl.includes('b'))!;\r\n              if (squareClass)\r\n                piece.classList.remove(squareClass);\r\n              if (pieceClass)\r\n                piece.classList.remove(pieceClass);\r\n              if (!Array.from(piece.classList).includes('piece')) {\r\n                piece.classList.add('piece');\r\n                piece.classList.remove('element-pool');\r\n              }\r\n              piece.classList.add(newSquareClass);\r\n              piece.classList.add(newPieceClass);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for(let i = 0; i < freePieces.length; i++) {\r\n        freePieces[i].className = 'element-pool';\r\n      }\r\n    }\r\n    const getPosRelativeToBoard = (e: any, piece: any) => {\r\n      let rect: DOMRect = document.querySelector('.layout__board')!.getBoundingClientRect();\r\n      let offsetX: number = e.clientX - rect.left; \r\n      let offsetY: number = e.clientY - rect.top; \r\n\r\n      let pieceWidth: number = piece.offsetWidth;\r\n      let pieceHeight: number = piece.offsetHeight;\r\n\r\n      let translateX: number = (offsetX - pieceWidth / 2) / pieceWidth * 100;\r\n      if (translateX > 750)\r\n        translateX = 750;\r\n      if (translateX < -50)\r\n        translateX = -50;\r\n\r\n      let translateY: number = (offsetY - pieceHeight / 2) / pieceHeight * 100;\r\n      if (translateY > 750)\r\n        translateY = 750;\r\n      if (translateY < -50)\r\n        translateY = -50;\r\n\r\n      return [translateX, translateY];\r\n    }\r\n    const getTileOnBoard = (e: any, piece: any) => {\r\n      let pos: number[] = getPosRelativeToBoard(e, piece);\r\n      let translateX: number = pos[0]\r\n      let translateY: number = pos[1]\r\n\r\n      let col = Math.ceil((translateX + 50) / 100);\r\n      let row = 9 - Math.ceil((translateY + 50.01) / 100);\r\n      if (col === 0) col = 1;\r\n      if (row === 0) row = 1;\r\n\r\n      if (isFlipped.value) {\r\n        col = 9 - col;\r\n        row = 9 - row;\r\n      }\r\n\r\n      return [row, col];\r\n    }\r\n\r\n    let movingPiece: any;\r\n    let legalMoves: number[][];\r\n    let initialPos: number[];\r\n    const applyMovement = (e: any) => {\r\n      let pos: number[] = getPosRelativeToBoard(e, movingPiece);\r\n\r\n      movingPiece.style.transform = `translate(${pos[0].toString()}%, ${pos[1].toString()}%)`;\r\n    }\r\n    const movePiece = (e: any) => {\r\n      applyMovement(e);\r\n      let tilePos: number[] = getTileOnBoard(e, movingPiece);\r\n\r\n      const squares = Array.from(document.querySelectorAll('.square'));\r\n\r\n      let outlinedSquare = squares.find((el: Element) => Array.from(el.classList).includes('outlined'))\r\n      if (outlinedSquare)\r\n        outlinedSquare.classList.remove('outlined');\r\n\r\n      let index = (8 - tilePos[0]) * 8 + tilePos[1] - 1;\r\n      if (isFlipped.value) \r\n        index = 63 - index;\r\n\r\n      squares[index].classList.add('outlined');\r\n    }\r\n    const startMoving = (e: any) => {\r\n      if (!props.gameStarted)\r\n        return;\r\n\r\n      if (e.which !== 1)\r\n        return;\r\n\r\n      if ((user?.value.username === props.gameData?.black?.username && isWhiteTurn) || (user?.value.username === props.gameData?.white?.username && !isWhiteTurn))\r\n        return;\r\n\r\n      let tilePos: number[] = getTileOnBoard(e, e.target);\r\n      let boardElem = board[tilePos[0] - 1][8 - tilePos[1]];\r\n      if (boardElem === '')\r\n        return;\r\n      if (boardElem !== (user?.value.username === props.gameData?.white?.username ? boardElem.toUpperCase() : boardElem.toLowerCase()))\r\n        return;\r\n\r\n      const squares = Array.from(document.querySelectorAll('.square'));\r\n      let index = (8 - tilePos[0]) * 8 + tilePos[1] - 1;\r\n      if (isFlipped.value) \r\n        index = 63 - index;\r\n      \r\n      squares[index].classList.add('highlighted');\r\n      squares[index].classList.add('outlined');\r\n\r\n      movingPiece = e.target;\r\n      initialPos = tilePos;\r\n      applyMovement(e);\r\n\r\n      const pieceName = board[initialPos[0] - 1][8 - initialPos[1]];\r\n      legalMoves = findLegalMoves(pieceName.toLowerCase(), pieceName !== pieceName.toLowerCase(), initialPos[0] - 1, 8 - initialPos[1], true);\r\n      for(let i = 0; i < legalMoves.length; i++) {\r\n        let index = 63 - ((legalMoves[i][0]) * 8 + legalMoves[i][1]);\r\n        if (isFlipped.value)\r\n          index = 63 - index;\r\n\r\n        squares[index].classList.add('legal');\r\n      }\r\n\r\n      movingPiece.classList.add('dragging');\r\n      document.addEventListener('mousemove', movePiece);\r\n    }\r\n    const findLegalMoves = (pieceName: string, isPieceWhite: boolean, row: number, col: number, forNextMove: boolean): number[][] => {\r\n      let moves: number[][] = [];\r\n      if (pieceName === 'r' || pieceName === 'q') {\r\n        for (let i = 1; i <= row; i++) {\r\n          moves.push([row - i, col]);\r\n          if (board[row - i][col] !== '') {\r\n            if (isAllyPieceOnPos(row - i, col, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i < 8 - row; i++) {\r\n          moves.push([row + i, col]);\r\n          let placeOnBoard = board[row + i][col];\r\n          if (placeOnBoard !== '') {\r\n            if (isAllyPieceOnPos(row + i, col, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i <= col; i++) {\r\n          moves.push([row, col - i]);\r\n          if (board[row][col - i] !== '') {\r\n            if (isAllyPieceOnPos(row, col - i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i < 8 - col; i++) {\r\n          moves.push([row, col + i]);\r\n          if (board[row][col + i] !== '') {\r\n            if (isAllyPieceOnPos(row, col + i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (pieceName === 'b' || pieceName === 'q') { \r\n        for (let i = 1; i <= (row < col ? row : col); i++) {\r\n          moves.push([row - i, col - i]);\r\n          if (board[row - i][col - i] !== '') {\r\n            if (isAllyPieceOnPos(row - i, col - i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i <= (row < 7 - col ? row : 7 - col); i++) {\r\n          moves.push([row - i, col + i]);\r\n          if (board[row - i][col + i] !== '') {\r\n            if (isAllyPieceOnPos(row - i, col + i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i <= (7 - row < col ? 7 - row : col); i++) {\r\n          moves.push([row + i, col - i]);\r\n          if (board[row + i][col - i] !== '') {\r\n            if (isAllyPieceOnPos(row + i, col - i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }\r\n        for (let i = 1; i < (8 - row < 8 - col ? 8 - row : 8 - col); i++) {\r\n          moves.push([row + i, col + i]);\r\n          if (board[row + i][col + i] !== '') {\r\n            if (isAllyPieceOnPos(row + i, col + i, isPieceWhite) && forNextMove)\r\n              moves.pop();\r\n            break;\r\n          }\r\n        }  \r\n      }\r\n      else if (pieceName === 'p') {\r\n        if (isPieceWhite) {\r\n          if (forNextMove && board[row + 1][col] === '') {\r\n            moves.push([row + 1, col]);\r\n            if (row === 1 && board[row + 2][col] === '')\r\n              moves.push([row + 2, col]);\r\n          }\r\n          if (col - 1 >= 0 && row + 1 < 8 && ((!isAllyPieceOnPos(row + 1, col - 1, isPieceWhite) && board[row + 1][col - 1] !== '') || !forNextMove)) {\r\n            moves.push([row + 1, col - 1]);\r\n          }\r\n          if (col + 1 < 8 && row + 1 < 8 && ((!isAllyPieceOnPos(row + 1, col + 1, isPieceWhite) && board[row + 1][col + 1] !== '') || !forNextMove)) {\r\n            moves.push([row + 1, col + 1]);\r\n          }\r\n          if (forNextMove && enPassant.isAvailable) {\r\n            if (enPassant.captureSquare[0] === row + 1 && (enPassant.passingPawn[1] === col + 1 || enPassant.passingPawn[1] === col - 1)) {\r\n              moves.push(enPassant.captureSquare);\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          if (forNextMove && board[row - 1][col] === '') {\r\n            moves.push([row - 1, col]);\r\n            if (row === 6 && board[row - 2][col] === '')\r\n              moves.push([row - 2, col]);\r\n          }\r\n          if (col - 1 >= 0 && row - 1 >= 0 && ((!isAllyPieceOnPos(row - 1, col - 1, isPieceWhite) && board[row - 1][col - 1] !== '') || !forNextMove)) {\r\n            moves.push([row - 1, col - 1]);\r\n          }\r\n          if (col + 1 < 8 && row - 1 >= 0 && ((!isAllyPieceOnPos(row - 1, col + 1, isPieceWhite) && board[row - 1][col + 1] !== '') || !forNextMove)) {\r\n            moves.push([row - 1, col + 1]);\r\n          }\r\n          if (forNextMove && enPassant.isAvailable) {\r\n            if (enPassant.captureSquare[0] === row - 1 && (enPassant.passingPawn[1] === col + 1 || enPassant.passingPawn[1] === col - 1)) {\r\n              moves.push(enPassant.captureSquare);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else if (pieceName === 'n') {\r\n        if (row - 2 >= 0) {\r\n          if (col - 1 >= 0 && (!isAllyPieceOnPos(row - 2, col - 1, isPieceWhite) || !forNextMove))\r\n            moves.push([row - 2, col - 1]);\r\n          if (col + 1 < 8 && (!isAllyPieceOnPos(row - 2, col + 1, isPieceWhite) || !forNextMove))\r\n            moves.push([row - 2, col + 1]);\r\n        }\r\n        if (row + 2 < 8) {\r\n          if (col - 1 >= 0 && (!isAllyPieceOnPos(row + 2, col - 1, isPieceWhite) || !forNextMove))\r\n            moves.push([row + 2, col - 1]);\r\n          if (col + 1 < 8 && (!isAllyPieceOnPos(row + 2, col + 1, isPieceWhite) || !forNextMove))\r\n            moves.push([row + 2, col + 1]);\r\n        }\r\n        if (col - 2 >= 0) {\r\n          if (row - 1 >= 0 && (!isAllyPieceOnPos(row - 1, col - 2, isPieceWhite) || !forNextMove))\r\n            moves.push([row - 1, col - 2]);\r\n          if (row + 1 < 8 && (!isAllyPieceOnPos(row + 1, col - 2, isPieceWhite) || !forNextMove))\r\n            moves.push([row + 1, col - 2]);\r\n        }\r\n        if (col + 2 < 8) {\r\n          if (row - 1 >= 0 && (!isAllyPieceOnPos(row - 1, col + 2, isPieceWhite) || !forNextMove))\r\n            moves.push([row - 1, col + 2]);\r\n          if (row + 1 < 8 && (!isAllyPieceOnPos(row + 1, col + 2, isPieceWhite) || !forNextMove))\r\n            moves.push([row + 1, col + 2]);\r\n        }\r\n      }\r\n      else if (pieceName === 'k') {\r\n        if (row - 1 >= 0) {\r\n          if (!isAllyPieceOnPos(row - 1, col, isPieceWhite) && !isUnderAttack(row - 1, col, isPieceWhite))\r\n            moves.push([row - 1, col]);\r\n          if (col - 1 >= 0 && !isAllyPieceOnPos(row - 1, col - 1, isPieceWhite) && !isUnderAttack(row - 1, col - 1, isPieceWhite))\r\n            moves.push([row - 1, col - 1]);\r\n          if (col + 1 < 8 && !isAllyPieceOnPos(row - 1, col + 1, isPieceWhite) && !isUnderAttack(row - 1, col + 1, isPieceWhite))\r\n            moves.push([row - 1, col + 1]);\r\n        }\r\n        if (row + 1 < 8) {\r\n          if (!isAllyPieceOnPos(row + 1, col, isPieceWhite) && !isUnderAttack(row + 1, col, isPieceWhite))\r\n            moves.push([row + 1, col]);\r\n          if (col - 1 >= 0 && !isAllyPieceOnPos(row + 1, col - 1, isPieceWhite) && !isUnderAttack(row + 1, col - 1, isPieceWhite))\r\n            moves.push([row + 1, col - 1]);\r\n          if (col + 1 < 8 && !isAllyPieceOnPos(row + 1, col + 1, isPieceWhite) && !isUnderAttack(row + 1, col + 1, isPieceWhite))\r\n            moves.push([row + 1, col + 1]);\r\n        }\r\n        if (col - 1 >= 0 && !isAllyPieceOnPos(row, col - 1, isPieceWhite) && !isUnderAttack(row, col - 1, isPieceWhite))\r\n          moves.push([row, col - 1]);\r\n        if (col + 1 < 8 && !isAllyPieceOnPos(row, col + 1, isPieceWhite) && !isUnderAttack(row, col + 1, isPieceWhite))\r\n          moves.push([row, col + 1]);\r\n\r\n        if (!isCheck) {\r\n          if (isPieceWhite) {\r\n            if (whiteCastling.WKSC && board[0][1] === '' && board[0][2] === '' && !isUnderAttack(0, 1, isPieceWhite) && !isUnderAttack(0, 2, isPieceWhite))\r\n              moves.push([0, 1]);\r\n            if (whiteCastling.WQSC && board[0][4] === '' && board[0][5] === '' && board[0][6] === '' && !isUnderAttack(0, 4, isPieceWhite) && !isUnderAttack(0, 5, isPieceWhite) && !isUnderAttack(0, 6, isPieceWhite))\r\n              moves.push([0, 5]);\r\n          }\r\n          else {\r\n            if (blackCastling.BKSC && board[7][1] === '' && board[7][2] === ''  && !isUnderAttack(7, 1, isPieceWhite) && !isUnderAttack(7, 2, isPieceWhite))\r\n              moves.push([7, 1]);\r\n            if (blackCastling.BQSC && board[7][4] === '' && board[7][5] === '' && board[7][6] === ''  && !isUnderAttack(7, 4, isPieceWhite) && !isUnderAttack(7, 5, isPieceWhite) && !isUnderAttack(7, 6, isPieceWhite))\r\n              moves.push([7, 5]);\r\n          }\r\n        }\r\n      }\r\n\r\n      \r\n      if (forNextMove) {\r\n        let attackingPaths = checkForAttackingPaths(!isPieceWhite);\r\n        if (isCheck && pieceName !== 'k') {\r\n          let king: number[] = []; \r\n          for (let i = 0; i < board.length; i++) {\r\n            for (let j = 0; j < board[i].length; j++) {\r\n              if (board[i][j] === (isPieceWhite ? 'K' : 'k'))\r\n                king = [i, j];\r\n            }\r\n          }\r\n          \r\n          let attackingPieces = getAttackingPieces(king[0], king[1], isPieceWhite);\r\n          if (attackingPieces.length === 1) {\r\n            let i = 0;\r\n            while (i < moves.length) {\r\n              let attackingPath = attackingPaths.find((path: number[][] | undefined) => path?.find(s => s.toString() === moves[i].toString() && path?.find(s => s.toString() === attackingPieces[0].toString())));\r\n              if (!attackingPath)\r\n                moves.splice(i, 1);\r\n              else\r\n                i++;\r\n            }\r\n          }\r\n          else if (attackingPieces.length > 1) {\r\n            moves = [];\r\n          }\r\n        }\r\n\r\n        if (attackingPaths.length !== 0) {\r\n          let path = attackingPaths.find((p: number[][]) => p.find(s => s.toString() === [row, col].toString()));\r\n          if (path) {\r\n            let piecesOnAttackingPath = path.filter(p => board[p[0]][p[1]] !== '').length;\r\n            if (piecesOnAttackingPath === 2) {\r\n              let i = 0;\r\n              while (i < moves.length) {\r\n                if (!path.find(s => s.toString() === moves[i].toString()))\r\n                  moves.splice(i, 1);\r\n                else\r\n                  i++;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return moves;\r\n    }\r\n    const isAllyPieceOnPos = (row: number, col: number, isPieceWhite: boolean): boolean => {\r\n      return board[row][col] === (isPieceWhite ? board[row][col].toUpperCase() : board[row][col].toLowerCase()) && board[row][col] !== '';\r\n    }\r\n    const isUnderAttack = (row: number, col: number, isPieceWhite: boolean): boolean => {\r\n      return getAttackingPieces(row, col, isPieceWhite).length > 0;\r\n    }\r\n    const getAttackingPieces = (row: number, col: number, isPieceWhite: boolean): number[][] => {\r\n      let attackingPieces: number[][] = [];\r\n      let enemyPieces: number[][] = [];\r\n      for (let i = 0; i < board.length; i++) {\r\n        for (let j = 0; j < board[i].length; j++) {\r\n          if (board[i][j] !== '' && board[i][j].toLowerCase() !== 'k') {\r\n            if ((isPieceWhite && board[i][j] === board[i][j].toLowerCase()) || (!isPieceWhite && board[i][j] === board[i][j].toUpperCase()))\r\n              enemyPieces.push([i, j]);\r\n          }\r\n        }\r\n      }\r\n      \r\n      for (let piecePos of enemyPieces) {\r\n        let pieceName = board[piecePos[0]][piecePos[1]];\r\n        let moves = findLegalMoves(pieceName.toLowerCase(), pieceName !== pieceName.toLowerCase(), piecePos[0], piecePos[1], false);\r\n        for (let move of moves) {\r\n          if (row === move[0] && col === move[1])\r\n            attackingPieces.push([piecePos[0], piecePos[1]]);\r\n        }\r\n      }\r\n\r\n      return attackingPieces;\r\n    }\r\n    const checkForAttackingPaths = (isAttackingWhite: boolean): number[][][] => {\r\n      let attackingPieces: { row: number, col: number, name: string }[] = [];\r\n      let enemyKing: number[] = [];\r\n      let totalPaths: number[][][] = [];\r\n      for (let i = 0; i < board.length; i++) {\r\n        for (let j = 0; j < board[i].length; j++) {\r\n          if (board[i][j] !== '' && board[i][j] === (isAttackingWhite ? board[i][j].toUpperCase() : board[i][j].toLowerCase())) {\r\n            attackingPieces.push({\r\n              row: i,\r\n              col: j,\r\n              name: board[i][j].toLowerCase()\r\n            });\r\n          }\r\n          else if (board[i][j] === (isAttackingWhite ? 'k' : 'K')) {\r\n            enemyKing = [i, j];\r\n          }\r\n        }\r\n      }\r\n\r\n      for(let piece of attackingPieces) {\r\n        if (attackingPathExists(piece, enemyKing, isAttackingWhite)) {\r\n          let path = findAttackingPath(piece, enemyKing);\r\n          totalPaths.push(path);\r\n        }\r\n      }\r\n\r\n      return totalPaths;\r\n    }\r\n    const attackingPathExists = (piece: { row: number, col: number, name: string }, enemyKing: number[], isAttackingWhite: boolean): boolean => {\r\n      let row1 = piece.row;\r\n      let col1 = piece.col;\r\n      let row2 = enemyKing[0];\r\n      let col2 = enemyKing[1];\r\n      let i = 1;\r\n      if (piece.name === 'b' || piece.name === 'q') {\r\n        while (i < 8) {\r\n          if (row1 + i === row2 && col1 + i === col2 || row1 - i === row2 && col1 + i === col2 || row1 + i === row2 && col1 - i === col2 || row1 - i === row2 && col1 - i === col2)\r\n            return true;\r\n\r\n          i++;\r\n        }\r\n      }\r\n      if (piece.name === 'r' || piece.name === 'q') {\r\n        if (row1 + i === row2 && col1 === col2 || row1 - i && col1 === col2 || row1 === row2 && col1 + i === col2 || row1 === row2 && col1 - i === col2)\r\n          return true;\r\n\r\n        i++;\r\n      }\r\n      else {\r\n        if (findLegalMoves(piece.name, isAttackingWhite, row1, col1, false).find(ar => ar.toString() === enemyKing.toString())) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n    const findAttackingPath = (piece: { row: number, col: number, name: string }, enemyKing: number[]): number[][] => {\r\n      let path = [];\r\n      let row1 = enemyKing[0];\r\n      let col1 = enemyKing[1];\r\n      let row2 = piece.row;\r\n      let col2 = piece.col;\r\n      if (piece.name !== 'n') {\r\n        while (row1 !== row2 || col1 !== col2) {\r\n          if(row1 < row2)\r\n            row1++;\r\n          else if (row1 > row2)\r\n            row1--;\r\n          if(col1 < col2)\r\n            col1++;\r\n          else if (col1 > col2)\r\n            col1--;\r\n          path.push([row1, col1]);\r\n        }\r\n      }\r\n      else {\r\n        path.push([row2, col2]);\r\n      }\r\n\r\n      return path;\r\n    }\r\n    window.addEventListener('mouseup', (e: any) => {\r\n      if (movingPiece == null)\r\n        return;\r\n      \r\n      let tilePos: number[] = getTileOnBoard(e, movingPiece);\r\n      if (!legalMoves.find(move => move[0] === tilePos[0] - 1 && move[1] === 8 - tilePos[1])) {\r\n        tilePos[0] = initialPos[0];\r\n        tilePos[1] = initialPos[1];\r\n      }\r\n\r\n      let squareClass: string = [...movingPiece.classList].find(cl => cl.includes('square'));\r\n      movingPiece.classList.remove(squareClass);\r\n\r\n      board[initialPos[0] - 1][8 - initialPos[1]] = '';\r\n\r\n      const pieces = document.querySelectorAll('.piece');\r\n      let newSquareClass = `square-${tilePos[1]}${tilePos[0]}`;\r\n\r\n      let pieceOnNewSquare = Array.from(pieces).find((p: Element) => Array.from(p.classList).includes(newSquareClass));\r\n      if (pieceOnNewSquare)\r\n        pieceOnNewSquare.className = 'element-pool';\r\n      \r\n      movingPiece.classList.add(newSquareClass);\r\n\r\n      let pieceClass: string = [...movingPiece.classList].find(cl => cl.includes('w') || cl.includes('b'))!\r\n      board[tilePos[0] - 1][8 - tilePos[1]] = pieceClass[0] === 'b' ? pieceClass[1] : pieceClass[1].toUpperCase();\r\n\r\n      const squares = Array.from(document.querySelectorAll('.square'));\r\n      let index = (8 - initialPos[0]) * 8 + initialPos[1] - 1;\r\n      if (isFlipped.value) \r\n        index = 63 - index;\r\n\r\n      squares[index].classList.remove('highlighted');\r\n\r\n      let outlinedSquare = squares.find((el: Element) => Array.from(el.classList).includes('outlined'))\r\n      if (outlinedSquare)\r\n        outlinedSquare.classList.remove('outlined');\r\n\r\n      let legalMovesSquares = squares.filter((el: Element) => Array.from(el.classList).includes('legal'))\r\n      legalMovesSquares.forEach(sq => {\r\n        sq.classList.remove('legal');\r\n      });\r\n\r\n      movingPiece.classList.remove('dragging');\r\n      movingPiece.style.transform = '';\r\n      document.removeEventListener('mousemove', movePiece);\r\n      movingPiece = null;\r\n      legalMoves = [];\r\n\r\n      if (board[tilePos[0] - 1][8 - tilePos[1]].toLowerCase() === 'p') {\r\n        if (isWhiteTurn && tilePos[0] - 1 === 7 || !isWhiteTurn && tilePos[0] - 1 === 0) {\r\n          isPromotion = true;\r\n          isModalVisible.value = true;\r\n        }\r\n      }\r\n      if (!isPromotion && (tilePos[0] !== initialPos[0] || tilePos[1] !== initialPos[1]))\r\n        finishMove(tilePos);\r\n    });\r\n    const finishMove = (tilePos: number[]) => {\r\n      let piece = board[tilePos[0] - 1][8 - tilePos[1]];\r\n\r\n        if (enPassant.isAvailable) {\r\n          if (piece.toLowerCase() === 'p') {\r\n            if (tilePos[0] - 1 === enPassant.captureSquare[0] && 8 - tilePos[1] === enPassant.captureSquare[1]) {\r\n              board[enPassant.passingPawn[0]][enPassant.passingPawn[1]] = '';\r\n            }\r\n          }\r\n\r\n          enPassant.isAvailable = false;\r\n          enPassant.passingPawn = [];\r\n          enPassant.captureSquare = [];\r\n        }\r\n\r\n        if (piece.toLowerCase() === 'k') {\r\n          if (piece === piece.toLowerCase()) {\r\n            blackCastling.BKSC = false;\r\n            blackCastling.BQSC = false;\r\n\r\n            if (tilePos[0] - 1 === 7 && 8 - tilePos[1] === 1) {\r\n              board[7][0] = '';\r\n              board[7][2] = 'r';\r\n            }\r\n            else if (tilePos[0] - 1 === 7 && 8 - tilePos[1] === 5) {\r\n              board[7][7] = '';\r\n              board[7][4] = 'r';\r\n            }\r\n          }\r\n          else if (piece === piece.toUpperCase()) {\r\n            whiteCastling.WKSC = false;\r\n            whiteCastling.WQSC = false;\r\n\r\n            if (tilePos[0] - 1 === 0 && 8 - tilePos[1] === 1) {\r\n              board[0][0] = '';\r\n              board[0][2] = 'R';\r\n            }\r\n            else if (tilePos[0] - 1 === 0 && 8 - tilePos[1] === 5) {\r\n              board[0][7] = '';\r\n              board[0][4] = 'R';\r\n            }\r\n          }\r\n        }\r\n        else if (piece.toLowerCase() === 'r') {\r\n          if (piece === piece.toLowerCase()) {\r\n            if (8 - initialPos[1] === 0)\r\n              blackCastling.BKSC = false;\r\n            else if (8 - initialPos[1] === 7)\r\n              blackCastling.BQSC = false;\r\n          }\r\n          else if (piece === piece.toUpperCase()) {\r\n            if (8 - initialPos[1] === 0)\r\n              whiteCastling.WKSC = false;\r\n            else if (8 - initialPos[1] === 7)\r\n              whiteCastling.WQSC = false;\r\n          }\r\n        }\r\n        else if (piece.toLowerCase() === 'p') {\r\n          if (piece === piece.toUpperCase()) {\r\n            if (initialPos[0] - 1 === 1 && tilePos[0] - 1 === 3) {\r\n              if (8 - tilePos[1] + 1 < 8 && board[3][8 - tilePos[1] + 1] === 'p' || 8 - tilePos[1] - 1 >= 0 && board[3][8 - tilePos[1] - 1] === 'p') {\r\n                enPassant.isAvailable = true;\r\n                enPassant.passingPawn = [tilePos[0] - 1, 8 - tilePos[1]];\r\n                enPassant.captureSquare = [tilePos[0] - 2, 8 - tilePos[1]];\r\n              }\r\n            }\r\n          }\r\n          else if (piece === piece.toLowerCase()) {\r\n            if (initialPos[0] - 1 === 6 && tilePos[0] - 1 === 4) {\r\n              if (8 - tilePos[1] + 1 < 8 && board[4][8 - tilePos[1] + 1] === 'P' || 8 - tilePos[1] - 1 >= 0 && board[4][8 - tilePos[1] - 1] === 'P') {\r\n                enPassant.isAvailable = true;\r\n                enPassant.passingPawn = [tilePos[0] - 1, 8 - tilePos[1]];\r\n                enPassant.captureSquare = [tilePos[0], 8 - tilePos[1]];\r\n              }\r\n            }\r\n          }\r\n        }\r\n \r\n        if (whiteCastling.WKSC && tilePos[0] - 1 === 0 && 8 - tilePos[1] === 0)\r\n          whiteCastling.WKSC = false;\r\n        if (whiteCastling.WQSC && tilePos[0] - 1 === 0 && 8 - tilePos[1] === 7)\r\n          whiteCastling.WQSC = false;\r\n\r\n        if (blackCastling.BKSC && tilePos[0] - 1 === 7 && 8 - tilePos[1] === 0)\r\n          blackCastling.BKSC = false;\r\n        if (blackCastling.BQSC && tilePos[0] - 1 === 7 && 8 - tilePos[1] === 7)\r\n          blackCastling.BQSC = false;\r\n\r\n        resetBoard();\r\n        \r\n        for (let i = 0; i < board.length; i++) {\r\n          for (let j = 0; j < board[i].length; j++) {\r\n            if (board[i][j] === (isWhiteTurn ? 'k' : 'K')) {\r\n              if (isUnderAttack(i, j, !isWhiteTurn)) {\r\n                isCheck = true;\r\n                if (checkForMate(!isWhiteTurn)) {\r\n                  emit('endGame', isWhiteTurn ? 1 : 0, isWhiteTurn ? 0 : 1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!isCheck && checkForMate(!isWhiteTurn)) {\r\n          emit('endGame', 1, 1);\r\n        }\r\n\r\n        isWhiteTurn = !isWhiteTurn;\r\n        SocketioService.madeMove(props.gameData?._id, board, whiteCastling, blackCastling, enPassant, isCheck);\r\n        sentMadeMove = true;\r\n\r\n        initialPos = [];\r\n    }\r\n    const choosePromotionPiece = (pieceName: string) => {\r\n      let pawnInd = board[0].findIndex(p => p === 'p');\r\n      if (pawnInd !== -1) {\r\n        board[0][pawnInd] = pieceName;\r\n        finishMove([1, 8 - pawnInd]);\r\n        isModalVisible.value = false;\r\n        isPromotion = false;\r\n      }\r\n      else {\r\n        pawnInd = board[7].findIndex(p => p === 'P');\r\n        if (pawnInd !== -1) {\r\n          board[7][pawnInd] = pieceName.toUpperCase();\r\n          finishMove([8, 8 - pawnInd]);\r\n          isModalVisible.value = false;\r\n          isPromotion = false;\r\n        }\r\n      }\r\n    }\r\n    const closeModal = () => {\r\n      isModalVisible.value = false;\r\n      SocketioService.getGameData(props.gameData._id);\r\n      isPromotion = false;\r\n      initialPos = [];\r\n    }\r\n    const checkForMate = (isPieceWhite: boolean) => {\r\n      let totalMoves = [];\r\n      let moves;\r\n      let enemyPieces: { name: string, row: number, col: number }[] = [];\r\n      for (let i = 0; i < board.length; i++) {\r\n        for (let j = 0; j < board[i].length; j++) {\r\n          if (board[i][j] !== '') {\r\n            if ((isPieceWhite && board[i][j] === board[i][j].toUpperCase()) || (!isPieceWhite && board[i][j] === board[i][j].toLowerCase()))\r\n              enemyPieces.push({\r\n                name: board[i][j].toLowerCase(),\r\n                row: i,\r\n                col: j\r\n              });\r\n          }\r\n        }\r\n      }\r\n\r\n      for(let piece of enemyPieces) {\r\n        moves = findLegalMoves(piece.name, isPieceWhite, piece.row, piece.col, true);\r\n        if (moves.length !== 0) \r\n          totalMoves.push(moves);\r\n      }\r\n      if (totalMoves.length === 0)\r\n        return true;\r\n\r\n      return false;\r\n    }\r\n\r\n    return {\r\n      isModalVisible,\r\n      startMoving,\r\n      resetBoard,\r\n      user,\r\n      isFlipped,\r\n      whiteTime,\r\n      blackTime,\r\n      gotData,\r\n      choosePromotionPiece,\r\n      closeModal\r\n    }\r\n  },\r\n  components: {\r\n    ModalPromotion\r\n  }\r\n}\r\n","import { render } from \"./BoardSection.vue?vue&type=template&id=09b67b29&ts=true\"\nimport script from \"./BoardSection.vue?vue&type=script&lang=ts\"\nexport * from \"./BoardSection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"sidebar-section\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"sidebar__chat\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"chat__draw-offer\"\n}\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Opponent has offered a draw. Accept?\", -1)\nconst _hoisted_5 = {\n  key: 1,\n  class: \"chat__messages\"\n}\nconst _hoisted_6 = { class: \"chat__buttons\" }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = { class: \"chat__input-area\" }\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_Play = _resolveComponent(\"Play\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    ($props.gameStarted)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          ($setup.isDrawOffered)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                _hoisted_4,\n                _createElementVNode(\"button\", {\n                  onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('draw')))\n                }, \"Yes\"),\n                _createElementVNode(\"button\", {\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => ($setup.isDrawOffered=false))\n                }, \"No\")\n              ]))\n            : _createCommentVNode(\"\", true),\n          ($props.savedChat?.length)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.savedChat.map(el => el = { content: el.content, username: el.username, time: $setup.convertTime(el.time) }), (message) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    key: message.time,\n                    class: \"chat__message\"\n                  }, [\n                    _createElementVNode(\"p\", null, [\n                      _createTextVNode(_toDisplayString(message.time) + \" \", 1),\n                      _createVNode(_component_router_link, {\n                        to: `/profile/${message.username}`\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(message.username), 1)\n                        ]),\n                        _: 2\n                      }, 1032, [\"to\"]),\n                      _createTextVNode(\": \" + _toDisplayString(message.content), 1)\n                    ])\n                  ]))\n                }), 128))\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"button\", {\n              disabled: !$props.joinedChat,\n              class: \"btn\",\n              onClick: _cache[2] || (_cache[2] = ($event: any) => {_ctx.$emit('offerDraw'); $setup.didSendDrawOffer=true})\n            }, \"Offer draw\", 8, _hoisted_7),\n            _createElementVNode(\"button\", {\n              disabled: !$props.joinedChat,\n              class: \"btn\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('surrender')))\n            }, \"Surrender\", 8, _hoisted_8)\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _withDirectives(_createElementVNode(\"input\", {\n              disabled: !$props.joinedChat,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (($setup.content) = $event)),\n              class: \"input-area__input\",\n              type: \"text\",\n              onKeydown: _cache[5] || (_cache[5] = _withKeys(\n//@ts-ignore\n(...args) => ($setup.sendMessage && $setup.sendMessage(...args)), [\"enter\"]))\n            }, null, 40, _hoisted_10), [\n              [_vModelText, $setup.content]\n            ]),\n            _createElementVNode(\"button\", {\n              disabled: !$props.joinedChat,\n              onClick: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => ($setup.sendMessage && $setup.sendMessage(...args))),\n              class: \"input-area__send btn\"\n            }, \"Send\", 8, _hoisted_11)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!$props.gameStarted)\n      ? (_openBlock(), _createBlock(_component_Play, {\n          key: 1,\n          onShowSearch: _cache[7] || (_cache[7] = (payload) => _ctx.$emit('showSearch', payload))\n        }))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\r\nimport SocketioService from '@/services/socketio.service';\r\nimport { computed, ComputedRef, onMounted, Ref, ref, watch } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport Play from '@/components/Play.vue';\r\nimport { Store } from 'vuex';\r\nimport { Socket } from 'socket.io-client';\r\n\r\nexport default {\r\n  props: {\r\n    gameStarted: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    savedChat: {\r\n      required: false,\r\n      type: Array\r\n    },\r\n    joinedChat: {\r\n      required: true,\r\n      type: Boolean\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const socket: Socket = SocketioService.getSocket();\r\n    const store: Store<any> = useStore();\r\n\r\n    let content: Ref<string> = ref('');\r\n\r\n    let isDrawOffered: Ref<boolean> = ref(false);\r\n\r\n    let gameId: ComputedRef<string> = computed(() => store.getters.activeGame?._id);\r\n    let user: ComputedRef<Record<string, any>> = computed(() => store.getters.user);\r\n\r\n    let didSendDrawOffer: Ref<boolean> = ref(false);\r\n\r\n    socket.on('sendMessage', (payload: { username: string, content: string, time: string }) => {\r\n      store.commit('addToChat', {\r\n        username: payload.username,\r\n        content: payload.content,\r\n        time: payload.time\r\n      });\r\n    });\r\n\r\n    watch(() => props.savedChat?.length, () => {\r\n      setTimeout(scrollToBottom, 0);\r\n    });\r\n\r\n    onMounted(() => {\r\n      setTimeout(scrollToBottom, 0);\r\n    })\r\n\r\n    socket.on('offerDraw', () => {\r\n      if (!didSendDrawOffer.value) {\r\n        isDrawOffered.value = true;\r\n        setTimeout(scrollToBottom, 0);\r\n      }\r\n      else {\r\n        didSendDrawOffer.value = false;\r\n      }\r\n    });\r\n\r\n    const sendMessage = () => {\r\n      if (content.value.trim() === '')\r\n        return;\r\n\r\n      SocketioService.sendMessage(gameId.value, user.value.username, content.value);\r\n      content.value = '';\r\n    }\r\n\r\n    const convertTime = (dateString: string) => {\r\n      let hours: string = new Date(dateString).getHours().toString();\r\n      if (parseInt(hours) < 10) hours = '0' + hours;\r\n      let minutes: string = new Date(dateString).getMinutes().toString();\r\n      if (parseInt(minutes) < 10) minutes = '0' + minutes;\r\n\r\n      return `${hours}:${minutes}`;\r\n    }\r\n\r\n    const scrollToBottom = () => {\r\n      let chatElement = document.querySelector('.chat__messages');\r\n      if (chatElement) {\r\n        chatElement.scrollTo(0, chatElement.scrollHeight);\r\n      }\r\n    }\r\n\r\n    return {\r\n      gameId,\r\n      user,\r\n      content,\r\n      sendMessage,\r\n      convertTime,\r\n      isDrawOffered,\r\n      didSendDrawOffer\r\n    }\r\n  },\r\n  components: {\r\n    Play\r\n  }\r\n}\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=9b089f52&ts=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=ts\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"modal-backdrop\" }\nconst _hoisted_2 = { class: \"modal modal--endgame\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"modal__data\"\n}\nconst _hoisted_4 = { class: \"data__result\" }\nconst _hoisted_5 = { class: \"data__mode\" }\nconst _hoisted_6 = { class: \"data__players\" }\nconst _hoisted_7 = { class: \"players__player\" }\nconst _hoisted_8 = { class: \"player__username\" }\nconst _hoisted_9 = { class: \"player__rating\" }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"players__headers\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__username\" }, \"Username\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__score\" }, \"Score\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"headers__rating\" }, \"Rating\")\n], -1)\nconst _hoisted_11 = { class: \"players__player\" }\nconst _hoisted_12 = { class: \"player__username\" }\nconst _hoisted_13 = { class: \"player__rating\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('closeModal'))),\n        class: \"modal__close\"\n      }, \"\"),\n      ($props.resultData?.white && $props.resultData?.black)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createElementVNode(\"h1\", _hoisted_4, _toDisplayString($props.resultData.white.score === $props.resultData.black.score ? \"Draw\" : ($props.resultData.white.score === 1 ? \"White Won\" : \"Black Won\")), 1),\n            _createElementVNode(\"h2\", _hoisted_5, _toDisplayString($props.gameData.mode.charAt(0).toUpperCase() + $props.gameData.mode.slice(1)), 1),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createElementVNode(\"h2\", _hoisted_8, _toDisplayString($props.gameData.white.username), 1),\n                _createElementVNode(\"p\", {\n                  class: _normalizeClass([\"player__score\", $props.resultData.white.score === 1 && $props.resultData.black.score === 1 ? '' : $props.resultData.white.score === 1 ? 'score--green' : 'score--red'])\n                }, _toDisplayString($props.resultData.white.score), 3),\n                _createElementVNode(\"p\", _hoisted_9, [\n                  _createTextVNode(_toDisplayString($props.resultData.white.newElo) + \" \", 1),\n                  _createElementVNode(\"span\", {\n                    class: _normalizeClass([ 'rating__diff', $props.resultData.white.newElo - $props.gameData.white.eloAtTheTime < 0 ? 'diff--red' : $props.resultData.white.newElo - $props.gameData.white.eloAtTheTime > 0 ? 'diff--green' : ''])\n                  }, \"(\" + _toDisplayString($props.resultData.white.newElo - $props.gameData.white.eloAtTheTime) + \")\", 3)\n                ])\n              ]),\n              _hoisted_10,\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"h2\", _hoisted_12, _toDisplayString($props.gameData.black.username), 1),\n                _createElementVNode(\"p\", {\n                  class: _normalizeClass([\"player__score\", $props.resultData.white.score === 1 && $props.resultData.black.score === 1 ? '' : $props.resultData.white.score !== 1 ? 'score--green' : 'score--red'])\n                }, _toDisplayString($props.resultData.black.score), 3),\n                _createElementVNode(\"p\", _hoisted_13, [\n                  _createTextVNode(_toDisplayString($props.resultData.black.newElo) + \" \", 1),\n                  _createElementVNode(\"span\", {\n                    class: _normalizeClass([ 'rating__diff', $props.resultData.black.newElo - $props.gameData.black.eloAtTheTime < 0 ? 'diff--red' : $props.resultData.black.newElo - $props.gameData.black.eloAtTheTime > 0 ? 'diff--green' : ''])\n                  }, \"(\" + _toDisplayString($props.resultData.black.newElo - $props.gameData.black.eloAtTheTime) + \")\", 3)\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\r\nexport default {\r\n  props: {\r\n    gameData: {\r\n      required: true,\r\n      type: Object\r\n    },\r\n    resultData: {\r\n      required: true,\r\n      type: Object\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./ModalEndgame.vue?vue&type=template&id=2cbeed13&ts=true\"\nimport script from \"./ModalEndgame.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalEndgame.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport SocketioService from '@/services/socketio.service';\r\nimport { server } from '@/helper';\r\nimport { Router, useRouter } from 'vue-router';\r\nimport { Store, useStore } from 'vuex';\r\nimport { computed, ComputedRef, onUnmounted, reactive, Ref, ref, watch } from 'vue';\r\nimport BoardSection from \"@/components/BoardSection.vue\";\r\nimport Sidebar from \"@/components/Sidebar.vue\";\r\nimport ModalEndgame from \"@/components/ModalEndgame.vue\";\r\nimport { Socket } from 'socket.io-client';\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      required: false,\r\n      type: String\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const socket: Socket = SocketioService.getSocket();\r\n\r\n    const router: Router = useRouter();\r\n    const store: Store<any> = useStore();\r\n\r\n    let moves: Ref<number> = ref(0);\r\n    let joinedChat: Ref<boolean> = ref(false);\r\n\r\n    let isModalVisible: Ref<boolean> = ref(false);\r\n    let resultData: { white: { score: number|null, newElo: number|null }, black: { score: number|null, newElo: number|null } } = reactive({\r\n      white: {\r\n        score: null,\r\n        newElo: null\r\n      },\r\n      black: {\r\n        score: null,\r\n        newElo: null\r\n      }\r\n    });\r\n    let gameData: ComputedRef<Record<string, any>> = computed(() => store.getters.activeGame);\r\n    let user: ComputedRef<Record<string, any>> = computed(() => store.getters.user);\r\n\r\n    socket.on('endGame', (payload: { white: { score: number, newElo: number }, black: { score: number, newElo: number } }) => {  \r\n      socket.off('sendMessage');\r\n      socket.off('offerDraw');\r\n\r\n      resultData.white.score = payload.white.score;\r\n      resultData.black.score = payload.black.score;\r\n      resultData.white.newElo = payload.white.newElo;\r\n      resultData.black.newElo = payload.black.newElo;\r\n\r\n      isModalVisible.value = true;\r\n    });\r\n  \r\n\r\n    const checkForGame = () => {\r\n      if (props.id) {\r\n        fetch(`${server.baseURL}/games/${props.id}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.statusCode === 500) {\r\n            router.replace('/play');\r\n          }\r\n          else {\r\n            setTimeout(() => {\r\n              if (!user.value?._id || data.isFinished || (data.black.username !== user.value.username && data.white.username !== user.value.username)) {\r\n                router.replace('/play');\r\n              }\r\n              else {\r\n                SocketioService.joinChat(gameData.value._id);\r\n                joinedChat.value = true;\r\n              }\r\n            }, 500);\r\n          }\r\n        })\r\n        .catch(() => router.replace('/play'));\r\n      }\r\n    }\r\n    \r\n    watch(() => props.id, () => {\r\n      checkForGame();\r\n    });\r\n    checkForGame();\r\n\r\n    onUnmounted(() => {\r\n      socket.off('sendMessage');\r\n      socket.off('offerDraw');\r\n\r\n      //SocketioService.leaveChat(gameData.value._id);\r\n      joinedChat.value = false;\r\n    })\r\n    \r\n    watch(() => user.value, () => {\r\n      if(user.value?._id) {\r\n        fetch(`${server.baseURL}/games?username=${store.getters.user.username}`, {\r\n          method: 'GET', \r\n          headers: {\r\n            'Access-Control-Allow-Credentials': true\r\n          } as any,\r\n          credentials: 'include'\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          let activeGame = data.filter((game: { isFinished: boolean }) => game.isFinished === false)[0];\r\n          if (activeGame) {\r\n            router.replace('/play/' + activeGame._id);\r\n            SocketioService.joinChat(gameData.value._id);\r\n            joinedChat.value = true;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    const offerDraw = () => {\r\n      SocketioService.offerDraw(gameData.value._id);\r\n    }\r\n\r\n    const endGame = (whiteScore: number, blackScore: number) => {  \r\n      SocketioService.endGame(gameData.value._id, gameData.value.mode, { username: gameData.value.white.username, score: whiteScore, oldElo: gameData.value.white.eloAtTheTime }, { username: gameData.value.black.username, score: blackScore, oldElo: gameData.value.black.eloAtTheTime }, moves.value);\r\n    }\r\n\r\n    const closeModalAndRedirect = () => {\r\n      isModalVisible.value = true;\r\n      router.push('/')\r\n      .then(() => {\r\n        store.commit('unsetActiveGame');\r\n      });\r\n    }\r\n\r\n    return {\r\n      gameData,\r\n      isModalVisible,\r\n      offerDraw,\r\n      user,\r\n      resultData,\r\n      joinedChat,\r\n      closeModalAndRedirect,\r\n      endGame,\r\n      moves\r\n    }\r\n  },\r\n  components: {\r\n    BoardSection,\r\n    Sidebar,\r\n    ModalEndgame\r\n  }\r\n}\r\n","import { render } from \"./GamePage.vue?vue&type=template&id=d8a307ba&ts=true\"\nimport script from \"./GamePage.vue?vue&type=script&lang=ts\"\nexport * from \"./GamePage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"base-container\" }\nconst _hoisted_2 = { class: \"grid__item\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Leaderboards = _resolveComponent(\"Leaderboards\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_Leaderboards, {\n        detailed: true,\n        playersAmount: 10\n      })\n    ])\n  ]))\n}","\r\nimport Leaderboards from '@/components/Leaderboards.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Leaderboards\r\n  }\r\n}\r\n","import { render } from \"./LeaderboardsPage.vue?vue&type=template&id=099edcc6&ts=true\"\nimport script from \"./LeaderboardsPage.vue?vue&type=script&lang=ts\"\nexport * from \"./LeaderboardsPage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"base-container\" }\nconst _hoisted_2 = { class: \"grid__item\" }\nconst _hoisted_3 = { class: \"leaderboard-layout\" }\nconst _hoisted_4 = { class: \"mode-buttons\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"page-buttons\"\n}\nconst _hoisted_6 = [\"disabled\"]\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"arrow left\" }, null, -1)\nconst _hoisted_9 = [\n  _hoisted_8\n]\nconst _hoisted_10 = [\"disabled\", \"onClick\"]\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"arrow right\" }, null, -1)\nconst _hoisted_13 = [\n  _hoisted_12\n]\nconst _hoisted_14 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Leaderboard = _resolveComponent(\"Leaderboard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$router.push('/leaderboard/bullet/1'))),\n            class: _normalizeClass([\r\n              'btn',\r\n              $props.mode === 'bullet' ? 'btn--chosen' : ''\r\n            ])\n          }, \"Bullet\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$router.push('/leaderboard/blitz/1'))),\n            class: _normalizeClass([\r\n              'btn',\r\n              $props.mode === 'blitz' ? 'btn--chosen' : ''\r\n            ])\n          }, \"Blitz\", 2),\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$router.push('/leaderboard/rapid/1'))),\n            class: _normalizeClass([\r\n              'btn',\r\n              $props.mode === 'rapid' ? 'btn--chosen' : ''\r\n            ])\n          }, \"Rapid\", 2)\n        ]),\n        _createVNode(_component_Leaderboard, {\n          onChangeTotalPagesVal: $setup.changeTotalPagesValue,\n          onLoading: _cache[3] || (_cache[3] = ($event: any) => ($setup.isLoading = true)),\n          detailed: true,\n          playersAmount: 20,\n          page: $props.page,\n          mode: $props.mode\n        }, null, 8, [\"onChangeTotalPagesVal\", \"page\", \"mode\"]),\n        (!$setup.isLoading && parseInt($props.page) <= $setup.totalPages)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.$router.push(`/leaderboard/${$props.mode}/1`))),\n                disabled: parseInt($props.page) === 1\n              }, \"First\", 8, _hoisted_6),\n              _createElementVNode(\"button\", {\n                onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.$router.push(`/leaderboard/${$props.mode}/${parseInt($props.page) - 1}`))),\n                disabled: parseInt($props.page) === 1\n              }, _hoisted_9, 8, _hoisted_7),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.pagesArr, (pageNum) => {\n                return (_openBlock(), _createElementBlock(\"button\", {\n                  key: pageNum,\n                  disabled: pageNum === parseInt($props.page),\n                  onClick: ($event: any) => (_ctx.$router.push(`/leaderboard/${$props.mode}/${pageNum}`)),\n                  class: _normalizeClass([\r\n              'btn',\r\n              pageNum === parseInt($props.page) ? 'btn--chosen' : ''\r\n            ])\n                }, _toDisplayString(pageNum), 11, _hoisted_10))\n              }), 128)),\n              _createElementVNode(\"button\", {\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.$router.push(`/leaderboard/${$props.mode}/${parseInt($props.page) + 1}`))),\n                disabled: parseInt($props.page) === $setup.totalPages\n              }, _hoisted_13, 8, _hoisted_11),\n              _createElementVNode(\"button\", {\n                onClick: _cache[7] || (_cache[7] = ($event: any) => (_ctx.$router.push(`/leaderboard/${$props.mode}/${$setup.totalPages}`))),\n                disabled: parseInt($props.page) === $setup.totalPages\n              }, \"Last\", 8, _hoisted_14)\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}","\r\nimport { ref, computed, Ref, ComputedRef } from 'vue'; \r\nimport { Router, useRouter } from 'vue-router';\r\nimport Leaderboard from '@/components/Leaderboard.vue';\r\n\r\nexport default {\r\n  props: {\r\n    mode: {\r\n      type: String,\r\n      required: true,\r\n      validator: function(val: string): boolean {\r\n        return ['bullet', 'blitz', 'rapid'].includes(val);\r\n      }\r\n    },\r\n    page: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  setup(props: any): Record<string, unknown> {\r\n    const router: Router = useRouter();\r\n\r\n    let isLoading: Ref<boolean> = ref(true);\r\n    const totalPages: Ref<number> = ref(-1);\r\n    let pagesArr: ComputedRef<number[]> = computed(() => {\r\n      let arr: number[] = [];\r\n      if (totalPages.value <= 3) {\r\n        arr = [1, 2, 3];\r\n      }\r\n      else if (parseInt(props.page) <= totalPages.value - 2) {\r\n        arr = [parseInt(props.page), parseInt(props.page) + 1, parseInt(props.page) + 2];\r\n      }\r\n      else if (parseInt(props.page) === totalPages.value - 1) {\r\n        arr = [parseInt(props.page) - 1, parseInt(props.page), parseInt(props.page) + 1];\r\n      }\r\n      else if (parseInt(props.page) === totalPages.value) {\r\n        arr = [parseInt(props.page) - 2, parseInt(props.page) - 1, parseInt(props.page)];\r\n      }\r\n\r\n      return arr;\r\n    });\r\n\r\n    const changeTotalPagesValue = (payload: number): void => {\r\n      totalPages.value = payload;\r\n      isLoading.value = false;\r\n\r\n      if (parseInt(props.page) > totalPages.value)\r\n        router.replace(`/leaderboard/${props.mode}/${totalPages.value}`);\r\n    }\r\n\r\n    return {\r\n      changeTotalPagesValue,\r\n      totalPages,\r\n      pagesArr,\r\n      isLoading\r\n    }\r\n  },\r\n  components: {\r\n    Leaderboard\r\n  }\r\n}\r\n","import { render } from \"./LeaderboardPage.vue?vue&type=template&id=3d19ca9f&ts=true\"\nimport script from \"./LeaderboardPage.vue?vue&type=script&lang=ts\"\nexport * from \"./LeaderboardPage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\STEP\\\\KURSOVAIA\\\\chess-site\\\\chess-site-frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '@/views/Home.vue';\nimport ProfilePage from '@/views/ProfilePage.vue';\nimport GamePage from '@/views/GamePage.vue';\nimport LeaderboardsPage from '@/views/LeaderboardsPage.vue';\nimport LeaderboardPage from '@/views/LeaderboardPage.vue';\n\nconst routes: Array<RouteRecordRaw> = [\n  { path: '/', component: Home },\n  { path: '/profile/:username', component: ProfilePage, props: true },\n  { path: '/play', component: GamePage },\n  { path: '/play/:id', component: GamePage, props: true },\n  { path: '/leaderboard', component: LeaderboardsPage },\n  { path: '/leaderboard/:mode/:page', component: LeaderboardPage, props: true},\n  { path: '/:notFound(.*)', redirect: '/' }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\nexport default router\n","export default {\r\n  user(state: any) {\r\n    return state.user;\r\n  },\r\n  activeGame(state: any) {\r\n    return state.activeGame;\r\n  }\r\n}","import { server } from '@/helper';\r\n\r\nexport default {\r\n  async getUser(context: any, payload: string) {\r\n    const response = await fetch(`${server.baseURL}/users/${payload}`);\r\n    const data = await response.json();\r\n    \r\n    if (!data)\r\n      return;\r\n    \r\n    context.commit('setUser', data);\r\n  },\r\n  async getActiveGame(context: any, payload: string): Promise<boolean> {\r\n    const response = await fetch(`${server.baseURL}/games/${payload}`);\r\n    const data = await response.json();\r\n    \r\n    if (!data || data.statusCode === 500)\r\n      return false;\r\n    \r\n    context.commit('setActiveGame', data);\r\n    return true;\r\n  }\r\n}","export default {\r\n  setUser(state: any, payload: any): void {\r\n    state.user = payload;\r\n  },\r\n  unsetData(state: any): void {\r\n    state.user = null;\r\n    state.activeGame = null;\r\n  },\r\n  setActiveGame(state: any, payload: any) {\r\n    state.activeGame = payload;\r\n  },\r\n  unsetActiveGame(state: any) {\r\n    state.activeGame = null;\r\n  },\r\n  addToChat(state: any, payload: any) {\r\n    state.activeGame.chat.push(payload);\r\n  }\r\n}","import getters from './getters';\r\nimport actions from './actions';\r\nimport mutations from './mutations';\r\n\r\nexport default {\r\n    namespaced: false,\r\n    state() {\r\n      return {\r\n        user: {},\r\n        activeGame: {}\r\n      }\r\n    },\r\n    getters,\r\n    actions,\r\n    mutations\r\n};","import { createStore } from \"vuex\";\r\nimport userModule from '@/store/modules/user/index';\r\n\r\nexport default createStore({\r\n  modules: {\r\n    userModule\r\n  }\r\n});","import { createApp } from 'vue'\r\nimport App from '@/App.vue'\r\nimport router from '@/router'\r\nimport store from '@/store/index';\r\nimport '@/assets/style.sass'\r\n\r\ncreateApp(App)\r\n  .use(router)\r\n  .use(store)\r\n  .mount('#app')\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/load.70392d3b.gif\";","module.exports = __webpack_public_path__ + \"img/wRook.3c11ab7a.png\";"],"sourceRoot":""}